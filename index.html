<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vocabulary Quiz 1200â€“1450 (ì˜¤ë‹µ ì–´ì›/ì˜ë¯¸ ìƒì„± í•´ì„¤ ê°•í™” + ë°œìŒ + ìŠ¤ì½”ì–´ë³´ë“œ)</title>
  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif; }
    body { margin: 0; background: #0b0c10; color: #e7e7e7; font-size: 18px; } /* âœ… ì „ì²´ ê¸€ì í¬ê²Œ */
    .wrap { max-width: 980px; margin: 0 auto; padding: 18px; }
    .card { background: #14161d; border: 1px solid #232636; border-radius: 14px; padding: 18px; box-shadow: 0 6px 18px rgba(0,0,0,.25); }
    h1 { margin: 0 0 10px; font-size: 22px; } /* âœ… í¬ê²Œ */
    .sub { opacity: .85; font-size: 15px; margin-bottom: 14px; line-height: 1.55; } /* âœ… í¬ê²Œ */
    .row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; justify-content: space-between; }
    .pill { background:#1c2030; border:1px solid #2b3250; padding: 8px 12px; border-radius: 999px; font-size: 14px; } /* âœ… í¬ê²Œ */
    .btn { background:#2a63ff; border:0; color:white; padding:12px 14px; border-radius: 12px; cursor:pointer; font-weight:900; font-size: 15px; }
    .btn.secondary { background:#2b3250; }
    .btn.danger { background:#ff3b3b; }
    .btn:disabled { opacity:.5; cursor:not-allowed; }
    .progressbar { height: 12px; background:#0f1118; border:1px solid #232636; border-radius:999px; overflow:hidden; margin-top: 12px; }
    .bar { height:100%; width:0%; background:#2a63ff; }
    .qbox { margin-top: 14px; }
    .qhead { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .qnum { font-weight:900; font-size: 16px; opacity:.95; } /* âœ… í¬ê²Œ */
    .word { font-size: 36px; font-weight:1000; letter-spacing:.3px; } /* âœ… í¬ê²Œ */
    .meta { font-size: 13px; opacity:.85; }
    .choices { display:grid; gap:12px; margin-top: 14px; }
    .choice {
      background:#0f1118; border:1px solid #2b3250; border-radius: 14px;
      padding: 14px; cursor:pointer; display:flex; gap:12px; align-items:flex-start;
      transition: transform .05s ease;
      user-select:none;
      font-size: 18px; /* âœ… ë³´ê¸° ê¸€ì í¬ê²Œ */
      line-height: 1.5;
    }
    .choice:hover { transform: translateY(-1px); }
    .choice.selected { border-color:#86a3ff; background:#121a34; }
    .choice.correct { border-color:#35d07f; background:#0f1f18; }
    .choice.wrong { border-color:#ff6b6b; background:#231012; }
    .tag { font-weight:1000; width: 30px; text-align:center; opacity:.95; }
    .result { margin-top: 12px; padding: 14px; border-radius: 14px; border:1px solid #2b3250; background:#0f1118; }
    .result.good { border-color:#35d07f; background:#0f1f18; }
    .result.bad { border-color:#ff6b6b; background:#231012; }
    .small { font-size: 15px; opacity:.95; line-height:1.6; } /* âœ… í¬ê²Œ */
    .footer { margin-top: 14px; display:flex; gap:10px; flex-wrap:wrap; }
    details { margin-top: 14px; }
    summary { cursor:pointer; font-weight:1000; font-size: 16px; }
    table { width:100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border-bottom:1px solid #232636; padding: 12px 8px; text-align:left; font-size: 15px; }
    th { opacity:.9; }
    .muted { opacity:.75; }
    .controls { display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top: 10px; }
    select, input[type="checkbox"] { accent-color: #2a63ff; }
    select {
      background:#0f1118; color:#e7e7e7; border:1px solid #2b3250;
      border-radius: 12px; padding: 10px 12px; font-weight:900; font-size: 15px;
    }
    label { font-size: 15px; opacity:.95; display:flex; gap:8px; align-items:center; }
    .hr { border:0; border-top:1px solid #232636; margin:16px 0; }
    .etymo {
      margin-top: 10px;
      padding: 14px;
      border: 1px dashed #2b3250;
      border-radius: 14px;
      background: rgba(30,34,52,.35);
    }
    .etymo .title { font-weight:1000; margin-bottom: 8px; font-size: 16px; }
    .etymo ul { margin: 10px 0 0; padding-left: 20px; }
    .etymo li { margin: 8px 0; }
    .kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; font-size: 13px; padding: 3px 8px; border:1px solid #2b3250; border-radius: 10px; background:#0f1118; }
    .mini { font-size: 13px; opacity:.85; }
    .iconbtn {
      display:inline-flex; align-items:center; justify-content:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid #2b3250;
      background: #0f1118;
      color: #e7e7e7;
      cursor: pointer;
      font-weight: 1000;
      font-size: 15px;
    }
    .iconbtn:hover { border-color:#86a3ff; background:#121a34; }
    .scoreboard {
      margin-top: 14px;
      padding: 14px;
      border-radius: 14px;
      border: 1px solid #232636;
      background: #0f1118;
    }
    .scoregrid {
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    .scoreitem {
      background:#14161d;
      border:1px solid #2b3250;
      border-radius: 14px;
      padding: 12px;
    }
    .scorelabel { font-size: 13px; opacity:.75; font-weight:900; }
    .scorevalue { font-size: 24px; font-weight:1000; margin-top: 4px; }
    @media (min-width: 760px) {
      .scoregrid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="row">
        <div>
          <h1>Vocabulary Quiz (1200â€“1450) â€” ë°œìŒ(ë¯¸êµ­ì‹) + ìŠ¤ì½”ì–´ë³´ë“œ + ì˜¤ë‹µ í•´ì„¤</h1>
          <div class="sub">
            - ë³´ê¸°(ë‹µì•ˆ)ë¥¼ ëˆ„ë¥´ë©´ <b>ì¦‰ì‹œ ì±„ì </b>ë©ë‹ˆë‹¤.<br/>
            - ë¬¸í•­ì´ ëœ¨ë©´ <b>ë¯¸êµ­ì‹ ë°œìŒ</b>ì„ ìë™ ì¬ìƒ(ê°€ëŠ¥í•œ ê²½ìš°)í•˜ê³ , ğŸ”Š ë²„íŠ¼ìœ¼ë¡œ <b>ë°˜ë³µ ì²­ì·¨</b>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/>
            - ì˜¤ë‹µì¼ ë•Œë§Œ â€œì™œ ê·¸ ëœ»ì´ ë˜ëŠ”ì§€(ì–´ì›/ì˜ë¯¸ ìƒì„±/ì•”ê¸°/ì˜¤ë‹µ ë°©ì§€)â€ë¥¼ ë‹¨ì–´ë³„ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.
          </div>
        </div>
        <div class="row">
          <div class="pill" id="pillCount">ë¬¸í•­: 0</div>
          <div class="pill" id="pillProgress">ì§„í–‰: 0/0</div>
          <div class="pill" id="pillScore">ì ìˆ˜: 0</div>
        </div>
      </div>

      <div class="controls">
        <label>ë²”ìœ„
          <select id="rangeSelect">
            <option value="1200-1450" selected>1200â€“1450 (ì „ì²´)</option>
            <option value="1200-1219">1200â€“1219</option>
            <option value="1220-1239">1220â€“1239</option>
            <option value="1240-1259">1240â€“1259</option>
            <option value="1260-1279">1260â€“1279</option>
            <option value="1280-1299">1280â€“1299</option>
            <option value="1300-1319">1300â€“1319</option>
            <option value="1320-1339">1320â€“1339</option>
            <option value="1340-1450">1340â€“1450</option>
          </select>
        </label>

        <label><input type="checkbox" id="shuffleToggle" checked /> ë¬¸ì œ ìˆœì„œ ì„ê¸°</label>
        <label><input type="checkbox" id="saveToggle" checked /> ì§„í–‰ìƒí™© ìë™ ì €ì¥</label>
        <label><input type="checkbox" id="autoPronounceToggle" checked /> ë¬¸ì œ í‘œì‹œ ì‹œ ìë™ ë°œìŒ</label>

        <button class="btn" id="btnStart">í€´ì¦ˆ ì‹œì‘/ì¬ì‹œì‘</button>
        <button class="btn secondary" id="btnWrongOnly" disabled>ì˜¤ë‹µë§Œ ë‹¤ì‹œ</button>
        <button class="btn danger" id="btnReset">ì™„ì „ ì´ˆê¸°í™”</button>
      </div>

      <div class="progressbar" aria-label="progress">
        <div class="bar" id="bar"></div>
      </div>

      <!-- âœ… ìŠ¤ì½”ì–´ë³´ë“œ -->
      <div class="scoreboard" id="scoreboard">
        <div style="font-weight:1000; font-size:16px;">ìŠ¤ì½”ì–´ë³´ë“œ</div>
        <div class="mini muted">ì´ ì‘ì‹œ/ì •ë‹µ/ì˜¤ë‹µ, ì—°ì† ì •ë‹µ(ìŠ¤íŠ¸ë¦­)ì„ ì‹¤ì‹œê°„ í‘œì‹œí•©ë‹ˆë‹¤.</div>
        <div class="scoregrid">
          <div class="scoreitem">
            <div class="scorelabel">ì‘ì‹œ(ì±„ì  ì™„ë£Œ)</div>
            <div class="scorevalue" id="sbAnswered">0</div>
          </div>
          <div class="scoreitem">
            <div class="scorelabel">ì •ë‹µ</div>
            <div class="scorevalue" id="sbCorrect">0</div>
          </div>
          <div class="scoreitem">
            <div class="scorelabel">ì˜¤ë‹µ</div>
            <div class="scorevalue" id="sbWrong">0</div>
          </div>
          <div class="scoreitem">
            <div class="scorelabel">ì—°ì† ì •ë‹µ</div>
            <div class="scorevalue" id="sbStreak">0</div>
          </div>
        </div>
        <div class="mini muted" id="sbNote" style="margin-top:8px;"></div>
      </div>

      <div class="qbox" id="qbox"></div>

      <div class="footer">
        <button class="btn secondary" id="btnPrev">ì´ì „</button>
        <button class="btn" id="btnNext">ë‹¤ìŒ</button>
      </div>

      <div id="summary"></div>
    </div>
  </div>

<script>
/** =========================
 *  0) ë°œìŒ(ë¯¸êµ­ì‹) - Web Speech API
 *  ========================= */
let userInteracted = false;     // iOS ë“±ì—ì„œ ìë™ ì¬ìƒ ì œí•œ ëŒ€ë¹„
let lastSpokenKey = "";         // ê°™ì€ ë¬¸ì œì—ì„œ ì¤‘ë³µ ìë™ë°œìŒ ë°©ì§€

function pickUSVoice() {
  const voices = window.speechSynthesis ? window.speechSynthesis.getVoices() : [];
  // ê°€ì¥ ìš°ì„ : en-US
  let v = voices.find(x => (x.lang || "").toLowerCase() === "en-us");
  if (v) return v;
  // ë‹¤ìŒ: en-us í¬í•¨
  v = voices.find(x => (x.lang || "").toLowerCase().includes("en-us"));
  if (v) return v;
  // ë‹¤ìŒ: ì˜ì–´ ì•„ë¬´ê±°ë‚˜
  v = voices.find(x => (x.lang || "").toLowerCase().startsWith("en"));
  return v || null;
}

function speakWord(word, {force=false} = {}) {
  if (!("speechSynthesis" in window) || !word) return;
  try {
    const key = `${word}`;
    if (!force && key === lastSpokenKey) return;

    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(word);
    u.lang = "en-US";
    const v = pickUSVoice();
    if (v) u.voice = v;
    u.rate = 0.95;   // ì•½ê°„ ë˜ë°•ë˜ë°•
    u.pitch = 1.0;
    u.volume = 1.0;

    lastSpokenKey = key;
    window.speechSynthesis.speak(u);
  } catch {}
}

// iOS Safariì—ì„œ voices ë¡œë”© ì§€ì—°ë˜ëŠ” ê²½ìš° ëŒ€ë¹„
if ("speechSynthesis" in window) {
  window.speechSynthesis.onvoiceschanged = () => { /* voices ready */ };
}

/** =========================
 *  1) ì›ë¬¸ ë°ì´í„°(ì‚¬ìš©ì ì œê³µ)
 *  ========================= */
const RAW = String.raw`
1200â€“1219

1200 logical / ë…¼ë¦¬ì ì¸
1201 credibility / ì‹ ë¢°ì„±
1202 auditory / ì²­ê°ì˜, ê·€ì˜
1203 scrutinize / ìì„¸íˆ ì¡°ì‚¬í•˜ë‹¤
1204 cooperate / í˜‘ë ¥(í˜‘ë™)í•˜ë‹¤
1205 reciprocal / ìƒí˜¸ ê°„ì˜, í˜¸í˜œì ì¸
1206 exclusive / ë°°íƒ€ì ì¸
1207 forfeit / ë°•íƒˆ(ëª°ìˆ˜)ë‹¹í•˜ë‹¤
1208 rebellious / ë°˜ì—­ì˜
1209 retreat / í›„í‡´í•˜ë‹¤, ë¬¼ëŸ¬ì„œë‹¤
1210 prudence / ì‹ ì¤‘, ì‚¬ë ¤ ë¶„ë³„
1211 aid / ì›ì¡°, ì§€ì›
1212 replicate / ëª¨ì‚¬í•˜ë‹¤, ë°˜ë³µí•˜ë‹¤
1213 pasture / ì´ˆì›, ëª©ì´ˆì§€
1214 prospect / (ë¯¸ë˜ì˜) ì „ë§, ì˜ˆìƒ
1215 qualify / ~ì—ê²Œ ìê²©ì„ ì£¼ë‹¤, ìê²©ì„ ì–»ë‹¤
1216 rid / ì—†ì• ë‹¤, ì œê±°í•˜ë‹¤
1217 involuntarily / ë¬´ì‹¬ê²°ì—, ë³¸ì˜ ì•„ë‹ˆê²Œ
1218 assure / ~ì„ í™•ì‹¤í•˜ê²Œ í•˜ë‹¤
1219 periodic / ì£¼ê¸°ì ì¸

1220â€“1239

1220 revert / ë˜ëŒì•„ê°€ë‹¤
1221 combustion / ë¶ˆì´ íƒ, ì—°ì†Œ
1222 sneak / ì‚´ê¸ˆì‚´ê¸ˆ(ëª°ë˜) ë“¤ì–´ì˜¤ë‹¤
1223 ban / ê¸ˆì§€í•˜ë‹¤
1224 collapse / ë¶•ê´´
1225 sprint / ì „ë ¥ ì§ˆì£¼í•˜ë‹¤
1226 shatter / ì‚°ì‚°ì´ ë¶€ì„œì§€ë‹¤
1227 debt / ë¹š, ë¶€ì±„
1228 diploma / ì¡¸ì—…ì¥, ìˆ˜ë£Œì¦
1229 flip / í™± ë’¤ì§‘ë‹¤, ê°€ë³ê²Œ ë˜ì§€ë‹¤
1230 acquaint / ì•Œê²Œ í•˜ë‹¤, ìˆ™ì§€ì‹œí‚¤ë‹¤
1231 translate / ë²ˆì—­í•˜ë‹¤
1232 implement / ì‹œí–‰í•˜ë‹¤
1233 impulse / ì¶©ë™, ìš•êµ¬
1234 inhabitant / (íŠ¹ì • ì§€ì—­ì˜) ì£¼ë¯¼, ì„œì‹ ë™ë¬¼
1235 interfere / ê°„ì„­í•˜ë‹¤, ë°©í•´í•˜ë‹¤
1236 shield / ë³´í˜¸í•˜ë‹¤
1237 irrelevant / ìƒê´€ì—†ëŠ”, ë¬´ê´€í•œ
1238 initially / ì²˜ìŒì—, ì‹œì´ˆì—
1239 tame / ê¸¸ë“¤ì—¬ì§„

1240â€“1259

1240 agent / ì§ì›, ìš”ì›
1241 decline / ê°ì†Œí•˜ë‹¤, ì‡ í‡´í•˜ë‹¤
1242 courtesy / ì •ì¤‘í•¨, ê³µì†í•¨
1243 rattle / ëœê±°ë•ê±°ë¦¬ë‹¤, ë‹¬ê±€ê±°ë¦¬ë‹¤
1244 wrap / ì‹¸ë‹¤, í¬ì¥í•˜ë‹¤
1245 stir / ë™ìš”, ì¶©ê²©
1246 discard / ë²„ë¦¬ë‹¤, íê¸°í•˜ë‹¤
1247 reference / ì¶”ì²œì„œ
1248 convert / ì „í™˜(ë³€í™˜)í•˜ë‹¤
1249 spur / ~ì— ë°•ì°¨ë¥¼ ê°€í•˜ë‹¤, ìê·¹í•˜ë‹¤
1250 dismiss / ë¬µì‚´í•˜ë‹¤
1251 sentiment / ì •ì„œ, ê°ì •
1252 odd / ì´ìƒí•œ
1253 grasp / ì´í•´í•˜ë‹¤, íŒŒì•…í•˜ë‹¤
1254 constitute / êµ¬ì„±í•˜ë‹¤
1255 skeptical / íšŒì˜ì ì¸, ì˜ì‹¬ ë§ì€
1256 astrology / ì ì„±ìˆ , ì ì„±í•™
1257 intimate / ì‚¬ì ì¸, ê°œì¸ì ì¸
1258 promotion / í™ë³´, íŒë§¤ ì´‰ì§„
1259 miserable / ë¹„ì°¸í•œ, ë¶ˆí–‰í•œ

1260â€“1279

1260 permit / í—ˆë½í•˜ë‹¤, í—ˆê°€í•˜ë‹¤
1261 summit / ê¼­ëŒ€ê¸°, ì •ìƒ
1262 snatch / ì¡ì•„ì±„ë‹¤
1263 refuge / í”¼ë‚œ(ì²˜), ë„í”¼(ì²˜)
1264 integrity / ì„±ì‹¤, ì •ì§
1265 stick / ê¼¼ì§ ëª»í•˜ë‹¤
1266 testimony / ì¦ê±°, ì¦ì–¸
1267 federal / ì—°ë°©ì˜, ì—°í•©ì˜
1268 superficial / í”¼ìƒì ì¸, í‘œë©´ì ì¸
1269 tolerate / ì°¸ë‹¤, ìš©ì¸í•˜ë‹¤
1270 turnover / (ì§ì›ì˜) ì´ì§ë¥ 
1271 versus / ~ëŒ€, ~ì™€ ëŒ€ë¹„í•˜ì—¬
1272 violate / ìœ„ë°˜í•˜ë‹¤
1273 altruism / ì´íƒ€ì£¼ì˜, ì´íƒ€ì‹¬
1274 upright / ë˜‘ë°”ë¥¸, ê³§ê³§í•œ
1275 bound / ~í•  ê²ƒ ê°™ì€, ~ì´ í‹€ë¦¼ì—†ëŠ”
1276 corporate / ê¸°ì—…ì˜, ë²•ì¸ì˜
1277 defeat / íŒ¨ë°°, ì‹¤íŒ¨
1278 desperate / ì ˆë§ì ì¸
1279 disability / ì¥ì• , ë¶ˆë¦¬í•œ ì¡°ê±´

1280â€“1299

1280 endure / ì°¸ë‹¤, ê²¬ë””ë‹¤
1281 gaze / ì‘ì‹œí•˜ë‹¤, ë°”ë¼ë³´ë‹¤
1282 ambivalent / ì–‘ë©´ ê°€ì¹˜ì˜
1283 inherit / ìƒì†ë°›ë‹¤, ë¬¼ë ¤ë°›ë‹¤
1284 antibody / í•­ì²´
1285 define / ì˜ë¯¸ë¥¼ ì •ì˜í•˜ë‹¤
1286 particle / ì…ì
1287 pupil / í•™ìƒ
1288 preach / ì„¤êµí•˜ë‹¤, ì „ë„í•˜ë‹¤
1289 chronological / ë°œìƒ(ì‹œê°„) ìˆœì„œëŒ€ë¡œ ëœ
1290 underprivileged / (ì‚¬íšŒÂ·ê²½ì œì ìœ¼ë¡œ) í˜œíƒì„ ë°›ì§€ ëª»í•˜ëŠ”
1291 uncover / (ë¹„ë°€ ë“±ì„) ì•Œì•„ë‚´ë‹¤, í­ë¡œí•˜ë‹¤
1292 dump / ë²„ë¦¬ë‹¤, ìŸì•„ ë²„ë¦¬ë‹¤
1293 acid / ì‚°ì„±ì˜
1294 literary / ë¬¸í•™ì˜
1295 border / ì ‘ê²½í•˜ë‹¤
1296 articulate / ë¶„ëª…íˆ í‘œí˜„í•˜ë‹¤(ì„¤ëª…í•˜ë‹¤)
1297 alley / ê³¨ëª©
1298 mitigation / ì™„í™”, ê²½ê°
1299 vicious / ë‚˜ìœ, ì•…ë•ì˜

1300â€“1319

1300 abound / ì•„ì£¼ ë§ë‹¤, í’ë¶€í•˜ë‹¤
1301 entitle / ìê²©ì„ ì£¼ë‹¤
1302 asset / ìì‚°, ì¬ì‚°
1303 underway / ì§„í–‰ ì¤‘ì¸
1304 litter / ì“°ë ˆê¸°
1305 mature / ì„±ìˆ™(ë°œë‹¬)í•˜ë‹¤
1306 originate / ë¹„ë¡¯ë˜ë‹¤, ìœ ë˜í•˜ë‹¤
1307 tyranny / ë…ì¬(ì „ì²´) ì •ì¹˜
1308 passage / ë³µë„, í†µë¡œ
1309 persist / ì§€ì†í•˜ë‹¤
1310 clog / ë§‰(íˆ)ë‹¤
1311 hypothesis / ê°€ì„¤, ê°€ì •
1312 plain / ë³´í†µì˜, í‰ë²”í•œ
1313 bizarre / ê¸°ì´í•œ, íŠ¹ì´í•œ
1314 bleed / í”¼ë¥¼ í˜ë¦¬ë‹¤, ì¶œí˜ˆí•˜ë‹¤
1315 smooth / ë§¤ëˆí•œ
1316 via / ~ì„ í†µí•´ì„œ, ~ì— ì˜í•´ì„œ
1317 combat / ì „íˆ¬, ì‹¸ì›€
1318 temporary / ì¼ì‹œì ì¸, ì„ì‹œì˜
1319 tremendous / ì—„ì²­ë‚œ, êµ‰ì¥í•œ

1320â€“1339

1320 posterity / í›„ì„¸, í›„ëŒ€
1321 cast / (ì˜ì‹¬ì„) ë¶ˆëŸ¬ì¼ìœ¼í‚¤ë‹¤
1322 counteract / ëŒ€ì‘[ëŒ€í•­]í•˜ë‹¤, ìƒì‡„[ì¤‘í™”]í•˜ë‹¤
1323 contagious / ì „ì—¼ë˜ëŠ”, ì „ì—¼ì„±ì˜
1324 appointment / ì„ëª…, ì§€ëª…
1325 assemble / ëª¨ìœ¼ë‹¤, ì§‘í•©ì‹œí‚¤ë‹¤
1326 bilingual / 2ê°œ êµ­ì–´ë¥¼ ë§í•˜ëŠ”
1327 customized / ê°œê°œì¸ì˜ ìš”êµ¬ì— ë§ì¶˜
1328 govern / ì¢Œìš°í•˜ë‹¤, ê²°ì •í•˜ë‹¤
1329 preponderance / (ìˆ˜ì Â·ì–‘ì ìœ¼ë¡œ) ìš°ì„¸í•¨
1330 surround / ë‘˜ëŸ¬ì‹¸ë‹¤, ì—ì›Œì‹¸ë‹¤
1331 conceive / ìƒê°[ìƒìƒ]í•˜ë‹¤
1332 argument / ë…¼ìŸ, ì–¸ìŸ
1333 precede / ~ì— ì•ì„œë‹¤, ì„ í–‰í•˜ë‹¤
1334 signify / ì˜ë¯¸í•˜ë‹¤, ë‚˜íƒ€ë‚´ë‹¤
1335 transfer / ì˜®ê¸°ë‹¤, ì´ë™í•˜ë‹¤
1336 pigment / ìƒ‰ì†Œ, ì•ˆë£Œ
1337 cuisine / ìš”ë¦¬(ë²•)
1338 mobilize / (ì‚¬ëŒÂ·ë¬¼ìÂ·ìˆ˜ë‹¨ ë“±ì„) ë™ì›í•˜ë‹¤
1339 subsequent / ê·¸ í›„ì˜, ë‹¤ìŒì˜

1340â€“1450

1340 starvation / êµ¶ì£¼ë¦¼, ê¸°ì•„
1341 urgent / ê¸´ê¸‰í•œ, ë‹¤ê¸‰í•œ
1342 respectively / ê°ê°, ì œê°ê¸°
1343 deed / í–‰ìœ„, í–‰ë™
1344 fate / ìš´ëª…
1345 philosophy / ì² í•™
1346 bypass / ìš°íšŒë¡œ, ê±´ë„ˆë›°ë‹¤, ìš°íšŒí•˜ë‹¤
1347 attest / ì¦ì–¸í•˜ë‹¤, ì…ì¦í•˜ë‹¤
1348 bloom / ê½ƒì´ í”¼ë‹¤, ê½ƒì„ í”¼ìš°ë‹¤
1349 boost / ì‹ ì¥ì‹œí‚¤ë‹¤, ë¶ë‹ìš°ë‹¤
1350 deduct / ê³µì œí•˜ë‹¤, ê°í•˜ë‹¤

1351â€“1373

1351 avid / ì—´ë§í•˜ëŠ”, ì—´ì‹¬ì¸
1352 discrimination / ì°¨ë³„
1353 disguise / ë³€ì¥(ìœ„ì¥)í•˜ë‹¤
1354 cumulative / ëˆ„ì ë˜ëŠ”, ëˆ„ê³„ì˜
1355 split / ìª¼ê°œë‹¤, ë‚˜ëˆ„ë‹¤
1356 pope / êµí™©
1357 droopy / ì¶• ëŠ˜ì–´ì§„
1358 hierarchy / ê³„ê¸‰, ê³„ì¸µ, ì„œì—´
1359 migrate / ì´ì£¼(ì´ë™)í•˜ë‹¤
1360 substantial / (ì–‘, í¬ê¸°ê°€) ìƒë‹¹í•œ
1361 grave / ì‹¬ê°í•œ, ì¤‘ëŒ€í•œ
1362 disciple / ì œì, ì‹ ë´‰ì
1363 prevail / ì´ê¸°ë‹¤, ì••ë„í•˜ë‹¤
1364 revive / ì†Œìƒí•˜ë‹¤, ë¶€í™œì‹œí‚¤ë‹¤
1365 delude / ì°©ê°í•˜ê²Œ í•˜ë‹¤, ì†ì´ë‹¤
1366 drawback / ê²°ì , ë¬¸ì œì 
1367 standardize / í‘œì¤€í™”í•˜ë‹¤, í†µì¼ì‹œí‚¤ë‹¤
1368 dusk / í™©í˜¼, ì–´ìŠ¤ë¦„
1369 territory / ì˜ì—­, ë¶„ì•¼
1370 eligible / ìê²©ì´ ìˆëŠ”
1371 vanish / ì‚¬ë¼ì§€ë‹¤
1372 violence / í­í–‰, í­ë ¥
1373 abuse / í•™ëŒ€í•˜ë‹¤

1374â€“1395

1374 choke / (ì„±ì¥ì„) ë°©í•´í•˜ë‹¤
1375 concise / ê°„ê²°í•œ
1376 deliberate / ìˆ™ê³ í•˜ë‹¤, ì‹ ì¤‘íˆ ìƒê°í•˜ë‹¤
1377 curse / ì €ì£¼, ì•…ë‹´
1378 crush / ìœ¼ìŠ¤ëŸ¬ëœ¨ë¦¬ë‹¤, ë­‰ê°œë‹¤
1379 niche / ë”± ë§ëŠ” ìœ„ì¹˜[ì§€ìœ„], ì ì†Œ
1380 intervention / ê°„ì„­
1381 mute / ë§ ì—†ëŠ”, ë¬´ì–¸ì˜
1382 tissue / (ì„¸í¬ë“¤ë¡œ ì´ë¤„ì§„) ì¡°ì§
1383 personnel / ì¸ì›, ì§ì›
1384 prejudice / í¸ê²¬
1385 probe / íƒìƒ‰[ì¡°ì‚¬]í•˜ë‹¤
1386 clarity / ëª…ë£Œì„±, ëª…í™•ì„±
1387 scope / ê¸°íšŒ, ì—¬ì§€
1388 spatial / ê³µê°„ì˜, ê³µê°„ì ì¸
1389 steep / ê°€íŒŒë¥¸, ë¹„íƒˆì§„
1390 temporal / ì‹œê°„ì˜
1391 patch / (í–‰ì • ë“±ìœ¼ë¡œ) ë•œëŒ€ë‹¤, ë•Œìš°ë‹¤
1392 dismantle / ë¶„í•´í•˜ë‹¤, í•´ì²´í•˜ë‹¤
1393 epoch / ì‹œëŒ€, ì‹œê¸°
1394 exert / (í˜, ì˜í–¥ë ¥ì„) ê°€í•˜ë‹¤, í–‰ì‚¬í•˜ë‹¤
1395 accommodate / ìˆ™ë°•ì‹œí‚¤ë‹¤, ìˆ˜ìš©í•˜ë‹¤

1396â€“1417

1396 marital / ê²°í˜¼(ìƒí™œ)ì˜, ë¶€ë¶€ì˜
1397 affection / ì• ì°©, ì• ì •
1398 extensive / ë„“ì€, ê´‘ë²”ìœ„í•œ
1399 aspiration / ì—´ë§, í¬ë¶€
1400 cite / ì–¸ê¸‰í•˜ë‹¤
1401 universal / ì¼ë°˜[ë³´í¸]ì ì¸
1402 proximity / ê°€ê¹Œì›€, ê·¼ì ‘
1403 prelude / ì „ì¡°, ì„œë§‰
1404 kinship / ì¹œì¡±(ì„), ì¹œì¡± ê´€ê³„
1405 harassment / ê´´ë¡­í˜
1406 repertoire / ë ˆí¼í† ë¦¬, ì—°ì£¼ ëª©ë¡
1407 retailer / ì†Œë§¤ìƒ, ì†Œë§¤ì—…, ì†Œë§¤ ìƒì 
1408 drift / (ëª©ì ì´ë‚˜ ëª©í‘œ ì—†ì´) í˜ëŸ¬ê°€ë‹¤, ë°©í™©í•˜ë‹¤
1409 dub / ì¬ë…¹ìŒ(ë”ë¹™)í•˜ë‹¤
1410 alongside / ~ ì˜†ì—, ë‚˜ë€íˆ
1411 enact / ìƒì—°[ì—°ê¸°]í•˜ë‹¤
1412 accidental / ìš°ì—°í•œ, ëŒë°œì ì¸
1413 encyclopedia / ë°±ê³¼ì‚¬ì „
1414 endow / ~ì—ê²Œ (íŠ¹ì§ˆ ë“±ì„) ë¶€ì—¬í•˜ë‹¤
1415 associate / ì—°ìƒí•˜ë‹¤, ì—°ê´€ ì§“ë‹¤
1416 feminine / ì—¬ì„±ì˜, ì—¬ì„±ìŠ¤ëŸ¬ìš´
1417 foe / ì 

1418â€“1439

1418 revise / ë³€ê²½[ìˆ˜ì •]í•˜ë‹¤
1419 exterminate / ê·¼ì ˆí•˜ë‹¤, ëª°ì‚´í•˜ë‹¤, ë°•ë©¸í•˜ë‹¤
1420 amend / ê°œì •[ìˆ˜ì •]í•˜ë‹¤
1421 coherent / ì¼ê´€ì„± ìˆëŠ”, ë…¼ë¦¬ì ì¸
1422 botanical / ì‹ë¬¼(í•™)ì˜
1423 indispensable / ì—†ì–´ì„œëŠ” ì•ˆ ë , í•„ìˆ˜ì ì¸
1424 abstain / ìì œí•˜ë‹¤, ì‚¼ê°€ë‹¤
1425 shortcoming / ê²°ì , ë‹¨ì 
1426 residue / ì”ì—¬ë¬¼
1427 displace / (ë°€ì–´ë‚´ê³ ) ëŒ€ì‹ [ëŒ€ì²´]í•˜ë‹¤
1428 collide / ì¶©ëŒ[ìƒì¶©]í•˜ë‹¤, ë¶€ë”ªíˆë‹¤
1429 dreary / ìŒìš¸í•œ, ë”°ë¶„í•œ
1430 sensitivity / ì˜ˆë¯¼í•¨, ë¯¼ê°í•¨
1431 gravitational / ì¤‘ë ¥[ì¸ë ¥]ì˜
1432 ancestral / ì¡°ìƒì˜
1433 elevation / ê³ ë„, í•´ë°œ
1434 elated / ì˜ê¸°ì–‘ì–‘í•œ, ë§¤ìš° ê¸°ë»í•˜ëŠ”
1435 nomadic / ìœ ëª©ì˜
1436 approximately / ê±°ì˜, ëŒ€ëµ
1437 enlighten / ê³„ëª½í•˜ë‹¤, ê¹¨ìš°ì¹˜ê²Œ í•˜ë‹¤
1438 fluctuate / ë³€ë™í•˜ë‹¤, ì˜¤ë¥´ë‚´ë¦¬ë‹¤
1439 factual / ì‚¬ì‹¤ì˜, ì‹¤ì œì˜

1440â€“1450

1440 fraction / ë¶€ë¶„, ì¼ë¶€
1441 frenzy / ê´‘ë¶„, ê´‘ë€
1442 orientation / ë°©í–¥, ì§€í–¥
1443 spherical / êµ¬ ëª¨ì–‘ì˜, êµ¬ì²´ì˜
1444 grin / (ì´ë¥¼ ë“œëŸ¬ë‚´ê³ ) í™œì§ ì›ƒë‹¤
1445 growl / ìœ¼ë¥´ë ê±°ë¦¬ë‹¤
1446 haunt / (ìœ ë ¹ ë“±ì´) ì¶œëª°í•˜ë‹¤
1447 overestimate / ê³¼ëŒ€í‰ê°€í•˜ë‹¤
1448 resentment / ë¶„í•¨, ë¶„ë…¸
1449 heap / ë”ë¯¸, ë¬´ë”ê¸°
1450 tuition / ìˆ˜ì—…ë£Œ
`;

/** =========================
 *  2) ì •ë°€ í•´ì„¤(ìˆ˜ë™)
 *  ========================= */
const ETYMO_STRONG = {
  "patch": [
    ["ì–´ì›/ê¸°ì›", "ì¤‘ì„¸ ì˜ì–´ pacche(ê¸°ì›Œ ë¶™ì´ëŠ” ì²œ ì¡°ê°) â†’ â€˜êµ¬ë©ì„ ë©”ìš°ëŠ” ì¡°ê°â€™ ì´ë¯¸ì§€ê°€ í•µì‹¬."],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„", "â‘  êµ¬ë©ì„ ë®ëŠ” ì¡°ê° â†’ â‘¡ ì¡°ê°ì„ ë¶™ì—¬ ìˆ˜ì„ í•˜ë‹¤(ë•œëŒ€ë‹¤) â†’ â‘¢ ì„ì‹œ ìˆ˜ì •(ì†Œí”„íŠ¸ì›¨ì–´ patch)"],
    ["ì¤‘2 ì•”ê¸° íŒ", "patch=â€˜ë¶™ì—¬ì„œ ë§‰ê¸°â€™. ì˜· êµ¬ë© íŒ¨ì¹˜ì²˜ëŸ¼, ë¬¸ì œë„ íŒ¨ì¹˜ë¡œ ë§‰ëŠ”ë‹¤!"]
  ],
  "deduct": [
    ["ì–´ì›/êµ¬ì„±", "de-(ë–¼ì–´/ì•„ë˜ë¡œ) + duct(ì´ëŒë‹¤)"],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„", "ì „ì²´ì—ì„œ ì–´ë–¤ ë¶€ë¶„ì„ â€˜ëŒì–´ë‚´ë ¤ ë¹¼ëŠ” ê²ƒâ€™ â†’ ê³µì œí•˜ë‹¤/ê°í•˜ë‹¤"],
    ["ì¤‘2 ì•”ê¸° íŒ", "de- + duct(ëŒë‹¤) = â€˜ë¹¼ë‚´ë ¤ì„œ ê°ì !â€™"]
  ],
  "subsequent": [
    ["ì–´ì›/êµ¬ì„±", "sub-(ë’¤/ì•„ë˜) + sequ(ë”°ë¥´ë‹¤)"],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„", "ì–´ë–¤ ì¼ â€˜ë’¤ë¥¼ ë”°ë¼ì˜¤ëŠ” ê²ƒâ€™ â†’ ê·¸ í›„ì˜/ë‹¤ìŒì˜"],
    ["ì¤‘2 ì•”ê¸° íŒ", "sequence(ìˆœì„œ) = ë”°ë¼ì˜¤ëŠ” ì¤„ â†’ subsequent=ë’¤ì— ì˜¤ëŠ” ê²ƒ"]
  ],
  "chronological": [
    ["ì–´ì›/êµ¬ì„±", "chrono-(ì‹œê°„) + -logical(ê´€ë ¨ëœ ë°°ì—´/ë…¼ë¦¬)"],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„", "ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ë°°ì—´ë¨ â†’ ì‹œê°„ìˆœì˜"],
    ["ì¤‘2 ì•”ê¸° íŒ", "chrono=ì‹œê°„ â†’ ì‹œê°„ìˆœ=chronological"]
  ],
  "credibility": [
    ["ì–´ì›/êµ¬ì„±", "cred-(ë¯¿ë‹¤) + -ible(ê°€ëŠ¥) + -ity(ì„±ì§ˆ)"],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„", "ë¯¿ì„ ìˆ˜ ìˆëŠ” ì •ë„(ì„±ì§ˆ) â†’ ì‹ ë¢°ì„±"],
    ["ì¤‘2 ì•”ê¸° íŒ", "credit(ì‹ ìš©)ì™€ ê°™ì€ ë¿Œë¦¬ cred=ë¯¿ë‹¤"]
  ],
  "auditory": [
    ["ì–´ì›/êµ¬ì„±", "aud-(ë“£ë‹¤) + -ory(~ì˜)"],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„", "ë“£ëŠ” ê²ƒê³¼ ê´€ë ¨ â†’ ì²­ê°ì˜"],
    ["ì¤‘2 ì•”ê¸° íŒ", "audio=ì˜¤ë””ì˜¤(ì†Œë¦¬). aud- ë³´ë©´ â€˜ë“£ë‹¤â€™!"
    ]
  ],
  "exclusive": [
    ["ì–´ì›/êµ¬ì„±", "ex-(ë°–) + clud(ë‹«ë‹¤/ë§‰ë‹¤) + -ive"],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„", "ë°–ìœ¼ë¡œ ë‹«ì•„ì„œ ëª» ë“¤ì–´ì˜¤ê²Œ í•¨ â†’ ë°°íƒ€ì ì¸/ë…ì ì ì¸"],
    ["ì¤‘2 ì•”ê¸° íŒ", "include(í¬í•¨) â†” exclude(ì œì™¸). clude=ë‹«ë‹¤"]
  ],
  "prospect": [
    ["ì–´ì›/êµ¬ì„±", "pro-(ì•) + spect(ë³´ë‹¤)"],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„", "ì•ì„ ë´„ â†’ ì „ë§/ê°€ëŠ¥ì„±"],
    ["ì¤‘2 ì•”ê¸° íŒ", "spectator(ê´€ê°)=ë³´ëŠ” ì‚¬ëŒ. prospect=ì•ì„ ë³´ëŠ” ê²ƒ"]
  ]
};

/** =========================
 *  3) ìë™ í•´ì„¤(ê°œë³„í™”)
 *  ========================= */
const PREFIX = [
  ["anti", "ë°˜ëŒ€"], ["auto","ìŠ¤ìŠ¤ë¡œ"], ["bi","2"], ["co","í•¨ê»˜"], ["con","í•¨ê»˜/ì™„ì „íˆ"],
  ["counter","ë°˜ëŒ€/ìƒì‡„"], ["de","ë–¼ì–´/ì•„ë˜ë¡œ/ì—†ì• ë‹¤"], ["dis","ë–¼ì–´/ë°˜ëŒ€/ì—†ì• ë‹¤"],
  ["en","~í•˜ê²Œ í•˜ë‹¤/ë„£ë‹¤"], ["ex","ë°–ìœ¼ë¡œ/ì „-"], ["im","ì•ˆìœ¼ë¡œ/ê°•í™”(ë˜ëŠ” in- ë³€í˜•)"],
  ["in","ì•ˆ/ë¶€ì •(ì•„ë‹ˆë‹¤)"], ["inter","ì‚¬ì´ì—/ì„œë¡œ"], ["mis","ì˜ëª»"], ["non","ì•„ë‹˜"],
  ["over","ê³¼í•˜ê²Œ"], ["pre","ì•/ë¯¸ë¦¬"], ["pro","ì•/ì°¬ì„±"], ["re","ë‹¤ì‹œ/ë’¤ë¡œ"],
  ["sub","ì•„ë˜/ë’¤"], ["trans","ê°€ë¡œì§ˆëŸ¬/ê±´ë„ˆ"]
];

const SUFFIX = [
  ["tion","ëª…ì‚¬(ê³¼ì •/ê²°ê³¼)"], ["sion","ëª…ì‚¬(ê³¼ì •/ê²°ê³¼)"], ["ment","ëª…ì‚¬(í–‰ë™/ê²°ê³¼)"],
  ["ity","ëª…ì‚¬(ì„±ì§ˆ/ìƒíƒœ)"], ["ness","ëª…ì‚¬(ìƒíƒœ)"], ["ive","í˜•ìš©ì‚¬(ì„±ì§ˆ)"],
  ["al","í˜•ìš©ì‚¬(~ì˜)"], ["ic","í˜•ìš©ì‚¬(~ì˜)"], ["ous","í˜•ìš©ì‚¬(~í•œ)"],
  ["ly","ë¶€ì‚¬(~í•˜ê²Œ)"], ["able","í˜•ìš©ì‚¬(~í•  ìˆ˜ ìˆëŠ”)"], ["ible","í˜•ìš©ì‚¬(~í•  ìˆ˜ ìˆëŠ”)"],
  ["ize","ë™ì‚¬(~í™”í•˜ë‹¤)"], ["ify","ë™ì‚¬(~í•˜ê²Œ í•˜ë‹¤)"], ["ence","ëª…ì‚¬(ì„±ì§ˆ)"], ["ance","ëª…ì‚¬(ì„±ì§ˆ)"],
  ["ary","í˜•ìš©ì‚¬(~ì˜)"], ["ent","í˜•ìš©ì‚¬/ëª…ì‚¬"], ["ant","í˜•ìš©ì‚¬/ëª…ì‚¬"]
];

const ROOTS = [
  ["spect", "ë³´ë‹¤"], ["vid", "ë³´ë‹¤"], ["vis", "ë³´ë‹¤"],
  ["cred", "ë¯¿ë‹¤"], ["fid", "ë¯¿ë‹¤"], ["aud", "ë“£ë‹¤"],
  ["dict", "ë§í•˜ë‹¤"], ["log", "ë§/ì´ì„±/í•™ë¬¸"], ["chron", "ì‹œê°„"],
  ["scrib", "ì“°ë‹¤"], ["script", "ì“°ë‹¤"], ["graph", "ê¸°ë¡"],
  ["port", "ì˜®ê¸°ë‹¤"], ["fer", "ì˜®ê¸°ë‹¤"], ["mit", "ë³´ë‚´ë‹¤"], ["miss", "ë³´ë‚´ë‹¤"],
  ["duc", "ì´ëŒë‹¤"], ["duct", "ì´ëŒë‹¤"], ["tract", "ëŒë‹¤"],
  ["press", "ëˆ„ë¥´ë‹¤"], ["struct", "ì„¸ìš°ë‹¤/ìŒ“ë‹¤"], ["stit", "ì„¸ìš°ë‹¤"],
  ["gen", "íƒœì–´ë‚˜ë‹¤"], ["nat", "ë³¸ì„±/íƒœì–´ë‚˜ë‹¤"],
  ["terr", "ë•…/ì˜ì—­"], ["bio", "ìƒëª…"], ["astro", "ë³„"], ["botan", "ì‹ë¬¼"],
  ["grav", "ë¬´ê²ë‹¤/ì¤‘ë ¥"], ["mut", "ë°”ê¾¸ë‹¤"], ["flu", "íë¥´ë‹¤"],
  ["clar", "ë§‘ë‹¤/ë¶„ëª…"], ["sens", "ëŠë¼ë‹¤"], ["fract", "ë¶€ìˆ˜ë‹¤"], ["rupt", "ê¹¨ì§€ë‹¤"]
];

function normalizeWord(w){ return String(w||"").toLowerCase().trim(); }

function detectPrefix(w){
  for (const [p, mean] of PREFIX) {
    if (w.startsWith(p) && w.length > p.length + 2) return [p, mean];
  }
  return null;
}
function detectSuffix(w){
  for (const [s, mean] of SUFFIX) {
    if (w.endsWith(s) && w.length > s.length + 2) return [s, mean];
  }
  return null;
}
function detectRoots(w){
  const found = [];
  const sorted = [...ROOTS].sort((a,b)=>b[0].length - a[0].length);
  for (const [r, mean] of sorted) {
    if (w.includes(r) && w.length > r.length + 1) {
      found.push([r, mean]);
      if (found.length >= 2) break;
    }
  }
  return found;
}
function inferPos(meaningKo){
  const m = String(meaningKo||"");
  if (m.includes("í•˜ë‹¤") || m.includes("ë˜ë‹¤")) return "ë™ì‚¬";
  if (m.includes("ì ì¸") || m.endsWith("ì˜")) return "í˜•ìš©ì‚¬";
  if (m.includes("í•˜ê²Œ")) return "ë¶€ì‚¬";
  return "ì–´íœ˜";
}
function buildMeaningChain(pre, roots, suf){
  const steps = [];
  if (pre) steps.push(`â‘  ${pre[0]} = â€œ${pre[1]}â€`);
  if (roots.length) {
    roots.forEach((r, i) => steps.push(`${pre ? (i===0 ? "â‘¡" : "â‘¢") : (i===0 ? "â‘ ":"â‘¡")} ${r[0]} = â€œ${r[1]}â€`));
  }
  if (suf) steps.push(`ë§ˆì§€ë§‰: -${suf[0]} = â€œ${suf[1]}â€`);
  if (!steps.length) steps.push("â‘  (ë¶„í•´ ë‹¨ì„œ ì•½í•¨) â†’ â€˜ëŒ€í‘œ ì¥ë©´(ì´ë¯¸ì§€)â€™ë¡œ ì˜ë¯¸ ê³ ì •");
  return steps.join(" â†’ ");
}
function buildAntiConfusion(word, pre, suf){
  const tips = [];
  if (pre && pre[0] === "re") tips.push("re- = ë‹¤ì‹œ/ë’¤ë¡œ (ë°˜ëŒ€ X)");
  if (pre && pre[0] === "dis") tips.push("dis- = ë¶„ë¦¬/ì œê±°/ë°˜ëŒ€ (in- ë¶€ì •ê³¼ êµ¬ë¶„)");
  if (pre && pre[0] === "inter") tips.push("inter- = ì‚¬ì´ì— ë¼ê¸°(ê°„ì„­ ì´ë¯¸ì§€)");
  if (suf && suf[0] === "tion") tips.push("-tion = ëª…ì‚¬(ê³¼ì •/ê²°ê³¼)");
  if (suf && suf[0] === "ity") tips.push("-ity = ~ì„±/ìƒíƒœ");
  if (word.endsWith("ly")) tips.push("-ly = ë¶€ì‚¬(~í•˜ê²Œ)");
  if (!tips.length) tips.push("í•µì‹¬ ì´ë¯¸ì§€ 1ê°œë§Œ ê³ ì •í•˜ë©´ ì˜¤ë‹µì´ í™• ì¤„ì–´ìš”.");
  return tips.join(" / ");
}
function autoEtymo(word, meaningKo){
  const w = normalizeWord(word);
  const pre = detectPrefix(w);
  const suf = detectSuffix(w);
  const roots = detectRoots(w);
  const pos = inferPos(meaningKo);

  const breakdown = [];
  if (pre) breakdown.push(`${pre[0]}- (${pre[1]})`);
  if (roots.length) breakdown.push(...roots.map(r => `${r[0]} (${r[1]})`));
  if (suf) breakdown.push(`-${suf[0]} (${suf[1]})`);
  if (!breakdown.length) breakdown.push(`${w} (ë¶„í•´ ë‹¨ì„œ ì•½í•¨)`);

  const chain = buildMeaningChain(pre, roots, suf);
  const anti = buildAntiConfusion(w, pre, suf);

  const reason = (() => {
    if (pre || suf || roots.length) {
      const core = roots.length ? roots.map(r=>r[1]).join(" + ") : "í•µì‹¬ ì˜ë¯¸";
      const dir = pre ? `â€œ${pre[1]}â€ ë°©í–¥ì„ ë¨¼ì € ì¡ê³ , ` : "";
      const tail = suf ? ` ë§ˆì§€ë§‰ì— â€œ${suf[1]}â€ë¡œ í’ˆì‚¬/ëŠë‚Œì„ ê³ ì •í•©ë‹ˆë‹¤.` : " ë¬¸ë§¥ì— ë§ê²Œ í’ˆì‚¬ë¥¼ ê³ ì •í•©ë‹ˆë‹¤.";
      return `${dir}${core}ë¥¼ ë¶™ì´ë©´ ëœ»ì´ ì—°ê²°ë¼ìš”.${tail} (í’ˆì‚¬: ${pos})`;
    }
    return `ì´ ë‹¨ì–´ëŠ” ë¶„í•´ë³´ë‹¤ â€˜ì¥ë©´â€™ì´ í•µì‹¬ì…ë‹ˆë‹¤. ${w}ê°€ ì“°ì¼ ìƒí™©ì„ 1ê°œ ë– ì˜¬ë ¤ ëœ»ì„ ê³ ì •í•˜ì„¸ìš”. (í’ˆì‚¬: ${pos})`;
  })();

  const mnemonic = (() => {
    const parts = [];
    if (pre) parts.push(`${pre[0]}(${pre[1]})`);
    if (roots.length) parts.push(...roots.map(r=>`${r[0]}(${r[1]})`));
    if (suf) parts.push(`-${suf[0]}(${suf[1]})`);
    if (parts.length) return `ì•”ê¸°: ${w} â‰ˆ ${parts.join(" + ")} â†’ ëœ»ì„ â€œ${parts.map(p=>p.split("(")[1].replace(")","")).join(" + ")}â€ë¡œ ì—°ê²°.`;
    return `ì•”ê¸°: ${w}ëŠ” ëŒ€í‘œ ì¥ë©´ 1ê°œë¡œ ì™¸ìš°ê¸°(ì˜ˆ: í–‰ë™/ìƒí™©ì„ ê·¸ë¦¼ì²˜ëŸ¼ ë– ì˜¬ë¦¬ê¸°).`;
  })();

  return [
    ["ì–´ì›/êµ¬ì„±(ìë™Â·ê°œë³„)", breakdown.join(" + ")],
    ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„(ìë™Â·ê°œë³„)", chain],
    ["ì™œ ì´ëŸ° ëœ»ì´ ë˜ë‚˜(ìë™Â·ê°œë³„)", reason],
    ["ì¤‘2 ì•”ê¸°(ìë™Â·ê°œë³„)", mnemonic],
    ["ì˜¤ë‹µ ë°©ì§€(ìë™Â·ê°œë³„)", anti]
  ];
}
function getEtymoCard(word, meaningKo) {
  const key = normalizeWord(word);
  if (ETYMO_STRONG[key]) return ETYMO_STRONG[key];
  return autoEtymo(key, meaningKo);
}

/** =========================
 *  4) íŒŒì‹±
 *  ========================= */
function parseEntries(raw) {
  const lines = raw.split(/\r?\n/);
  const out = [];
  const re = /^\s*(\d{4})\s+([A-Za-z-]+)\s*\/\s*(.+?)\s*$/;
  for (const line of lines) {
    const m = line.match(re);
    if (!m) continue;
    out.push({ num: parseInt(m[1],10), word: m[2].trim(), meaning: m[3].trim() });
  }
  return out;
}
const ALL = parseEntries(RAW);

/** =========================
 *  5) ìœ ì‚¬ ì˜¤ë‹µ ìƒì„±
 *  ========================= */
function pickDistractors(correctMeaning, poolMeanings, count=3) {
  const len = correctMeaning.length;
  const similar = poolMeanings.filter(m => m !== correctMeaning && Math.abs(m.length - len) <= 6);

  const picked = new Set();
  function takeFrom(arr) {
    const shuffled = shuffle([...arr]);
    for (const x of shuffled) {
      if (picked.size >= count) break;
      if (x === correctMeaning) continue;
      picked.add(x);
    }
  }
  takeFrom(similar);
  if (picked.size < count) takeFrom(poolMeanings);
  return [...picked].slice(0, count);
}
function buildQuestions(entries) {
  const meanings = entries.map(e => e.meaning);
  return entries.map(e => {
    const correct = e.meaning;
    const distractors = pickDistractors(correct, meanings, 3);
    const options = shuffle([correct, ...distractors]);
    const correctIndex = options.indexOf(correct);
    return { num: e.num, word: e.word, meaning: e.meaning, options, correctIndex };
  });
}

/** =========================
 *  6) ìƒíƒœ/ì €ì¥ + ìŠ¤ì½”ì–´ë³´ë“œ
 *  ========================= */
const dom = {
  pillCount: document.getElementById("pillCount"),
  pillProgress: document.getElementById("pillProgress"),
  pillScore: document.getElementById("pillScore"),
  bar: document.getElementById("bar"),
  qbox: document.getElementById("qbox"),
  summary: document.getElementById("summary"),
  rangeSelect: document.getElementById("rangeSelect"),
  shuffleToggle: document.getElementById("shuffleToggle"),
  saveToggle: document.getElementById("saveToggle"),
  autoPronounceToggle: document.getElementById("autoPronounceToggle"),
  btnStart: document.getElementById("btnStart"),
  btnWrongOnly: document.getElementById("btnWrongOnly"),
  btnReset: document.getElementById("btnReset"),
  btnPrev: document.getElementById("btnPrev"),
  btnNext: document.getElementById("btnNext"),
  sbAnswered: document.getElementById("sbAnswered"),
  sbCorrect: document.getElementById("sbCorrect"),
  sbWrong: document.getElementById("sbWrong"),
  sbStreak: document.getElementById("sbStreak"),
  sbNote: document.getElementById("sbNote"),
};

function getKey() {
  const range = dom.rangeSelect.value;
  return `vocab_quiz_1200_1450_etymo_${range}_v7_pronounce_scoreboard`;
}

function defaultState(total) {
  return {
    idx: 0,
    selected: Array(total).fill(null),
    checked: Array(total).fill(false),
    score: 0,
    wrong: [],
    order: [...Array(total).keys()],
    // âœ… ìŠ¤ì½”ì–´ë³´ë“œ ëˆ„ì 
    answeredCount: 0,
    correctCount: 0,
    wrongCount: 0,
    streak: 0,
    bestStreak: 0
  };
}

function normalizeLoadedState(s, total) {
  // ê¸°ì¡´ ì €ì¥ë³¸ í˜¸í™˜(í•„ë“œê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì±„ìš°ê¸°)
  const base = defaultState(total);
  const out = { ...base, ...s };

  if (!Array.isArray(out.selected) || out.selected.length !== total) out.selected = base.selected;
  if (!Array.isArray(out.checked) || out.checked.length !== total) out.checked = base.checked;
  if (!Array.isArray(out.order) || out.order.length !== total) out.order = base.order;
  if (!Array.isArray(out.wrong)) out.wrong = [];
  // ìˆ«ì í•„ë“œ ë³´ì •
  for (const k of ["idx","score","answeredCount","correctCount","wrongCount","streak","bestStreak"]) {
    out[k] = Number.isFinite(out[k]) ? out[k] : base[k];
  }
  // idx ë²”ìœ„ ë³´ì •
  out.idx = Math.max(0, Math.min(total-1, out.idx));
  return out;
}

let quiz = { entries: [], questions: [], state: null };

function saveState() {
  if (!dom.saveToggle.checked) return;
  localStorage.setItem(getKey(), JSON.stringify(quiz.state));
}

function loadState(total) {
  if (!dom.saveToggle.checked) return null;
  try {
    const raw = localStorage.getItem(getKey());
    if (!raw) return null;
    const s = JSON.parse(raw);
    if (!s) return null;
    return normalizeLoadedState(s, total);
  } catch { return null; }
}

function filterByRange(rangeStr) {
  const [a,b] = rangeStr.split("-").map(x => parseInt(x,10));
  return ALL.filter(e => e.num >= a && e.num <= b);
}

function updateScoreboard() {
  if (!quiz.state) {
    dom.sbAnswered.textContent = "0";
    dom.sbCorrect.textContent = "0";
    dom.sbWrong.textContent = "0";
    dom.sbStreak.textContent = "0";
    dom.sbNote.textContent = "";
    return;
  }
  const s = quiz.state;
  dom.sbAnswered.textContent = String(s.answeredCount);
  dom.sbCorrect.textContent = String(s.correctCount);
  dom.sbWrong.textContent = String(s.wrongCount);
  dom.sbStreak.textContent = String(s.streak);
  dom.sbNote.textContent = `ìµœê³  ì—°ì† ì •ë‹µ: ${s.bestStreak}íšŒ`;
}

/** =========================
 *  7) ë Œë”
 *  ========================= */
function render() {
  updateScoreboard();

  if (!quiz.state) {
    dom.qbox.innerHTML = `<div class="small muted">ìƒë‹¨ì—ì„œ ë²”ìœ„ë¥¼ ì„ íƒí•˜ê³  â€œí€´ì¦ˆ ì‹œì‘/ì¬ì‹œì‘â€ì„ ëˆ„ë¥´ì„¸ìš”.</div>`;
    dom.pillCount.textContent = `ë¬¸í•­: 0`;
    dom.pillProgress.textContent = `ì§„í–‰: 0/0`;
    dom.pillScore.textContent = `ì ìˆ˜: 0`;
    dom.bar.style.width = "0%";
    dom.btnPrev.disabled = true;
    dom.btnNext.disabled = true;
    dom.btnWrongOnly.disabled = true;
    dom.summary.innerHTML = "";
    return;
  }

  const total = quiz.questions.length;
  const s = quiz.state;
  const done = s.checked.filter(Boolean).length;

  dom.pillCount.textContent = `ë¬¸í•­: ${total}`;
  dom.pillProgress.textContent = `ì§„í–‰: ${done}/${total}`;
  dom.pillScore.textContent = `ì ìˆ˜: ${s.score}`;
  dom.bar.style.width = `${Math.round((done/total)*100)}%`;

  dom.btnPrev.disabled = s.idx === 0;
  dom.btnNext.disabled = s.idx === total - 1;

  const qIndex = s.order[s.idx];
  const q = quiz.questions[qIndex];

  const chosen = s.selected[s.idx];
  const checked = s.checked[s.idx];

  dom.qbox.innerHTML = `
    <div class="qhead">
      <div class="qnum">Q${s.idx+1} / ${total} <span class="meta">(ë‹¨ì–´ë²ˆí˜¸ ${q.num})</span></div>
    </div>

    <div class="qhead" style="margin-top:8px;">
      <div class="word">${escapeHtml(q.word)}</div>
      <button class="iconbtn" id="btnSpeak" title="ë¯¸êµ­ì‹ ë°œìŒ ì¬ìƒ">ğŸ”Š ë°œìŒ ë“£ê¸°</button>
      <span class="mini muted">${"speechSynthesis" in window ? "US ë°œìŒ(TTS)" : "ì´ ë¸Œë¼ìš°ì €ëŠ” ë°œìŒ ê¸°ëŠ¥ ë¯¸ì§€ì›"}</span>
    </div>

    <div class="choices" id="choices"></div>
    <div id="resultArea"></div>
  `;

  // ë°œìŒ ë²„íŠ¼
  const btnSpeak = document.getElementById("btnSpeak");
  btnSpeak.disabled = !("speechSynthesis" in window);
  btnSpeak.addEventListener("click", () => {
    userInteracted = true;
    speakWord(q.word, {force:true});
  });

  const choicesEl = document.getElementById("choices");
  q.options.forEach((text, idx0) => {
    let cls = "choice";
    if (chosen === idx0) cls += " selected";
    if (checked) {
      if (idx0 === q.correctIndex) cls += " correct";
      else if (chosen === idx0 && chosen !== q.correctIndex) cls += " wrong";
    }
    const el = document.createElement("div");
    el.className = cls;
    el.innerHTML = `<div class="tag">${idx0+1}</div><div>${escapeHtml(text)}</div>`;
    el.addEventListener("click", () => {
      userInteracted = true;
      if (s.checked[s.idx]) return; // ì´ë¯¸ ì±„ì ëœ ë¬¸ì œëŠ” ì¬ì„ íƒ ë°©ì§€
      s.selected[s.idx] = idx0;     // ì„ íƒ ê¸°ë¡
      checkAnswer();                // âœ… ì¦‰ì‹œ ì±„ì 
    });
    choicesEl.appendChild(el);
  });

  const resultArea = document.getElementById("resultArea");

  if (checked) {
    const ok = chosen === q.correctIndex;

    let etymoHtml = "";
    if (!ok) {
      const card = getEtymoCard(q.word, q.meaning);
      const safeCard = (Array.isArray(card) && card.length)
        ? card
        : [
            ["ì–´ì›/êµ¬ì„±(ê¸°ë³¸)", "ì´ ë‹¨ì–´ëŠ” â€˜í•µì‹¬ ì´ë¯¸ì§€â€™ë¡œ ì™¸ìš°ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤."],
            ["ëœ»ì´ ë§Œë“¤ì–´ì§„ íë¦„(ê¸°ë³¸)", "ì´ë¯¸ì§€ â†’ ë¬¸ë§¥ â†’ ëœ» ì—°ê²° ìˆœì„œë¡œ ê¸°ì–µí•˜ì„¸ìš”."],
            ["ì¤‘2 ì•”ê¸° íŒ(ê¸°ë³¸)", "ì˜¤ëŠ˜ì€ â€˜ê·¸ë¦¼ 1ê°œâ€™ë§Œ ê³ ì •í•´ë„ ì˜¤ë‹µì´ ì¤„ì–´ìš”."]
          ];

      etymoHtml = `
        <div class="etymo">
          <div class="title">ì˜¤ë‹µ ê°ì†Œ í•´ì„¤ (ì–´ì›/ì˜ë¯¸ ìƒì„±/ì•”ê¸°)</div>
          <div class="small muted">
            ë‹¨ì–´: <span class="kbd">${escapeHtml(q.word)}</span>
            <span style="margin-left:8px;">(í•´ì„¤ í•­ëª©: ${safeCard.length}ê°œ)</span>
          </div>
          <ul class="small">
            ${safeCard.map(([k,v]) => `<li><b>${escapeHtml(k)}</b>: ${escapeHtml(v)}</li>`).join("")}
          </ul>
        </div>
      `;
    }

    resultArea.innerHTML = `
      <div class="result ${ok ? "good" : "bad"}">
        <div><b>${ok ? "ì •ë‹µ!" : "ì˜¤ë‹µ"}</b></div>
        <div class="small">
          ì •ë‹µ: <b>${q.correctIndex+1}</b> (${escapeHtml(q.options[q.correctIndex])})<br/>
          ì„ íƒ: <b>${chosen+1}</b> (${escapeHtml(q.options[chosen])})
        </div>
      </div>
      ${etymoHtml}
    `;
  } else {
    resultArea.innerHTML = `<div class="small muted" style="margin-top:10px;">ë³´ê¸°(ë‹µì•ˆ)ë¥¼ ëˆ„ë¥´ë©´ ë°”ë¡œ ì±„ì ë©ë‹ˆë‹¤.</div>`;
  }

  if (done === total) renderSummary();
  else dom.summary.innerHTML = "";

  dom.btnWrongOnly.disabled = (done === 0);

  // âœ… ë¬¸ì œ í‘œì‹œ ì‹œ ìë™ ë°œìŒ(ê°€ëŠ¥í•œ ê²½ìš°)
  // - iOS ë“± ìë™ ì¬ìƒ ì œí•œì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ, ì‚¬ìš©ìê°€ Start/í´ë¦­ ë“±ìœ¼ë¡œ ìƒí˜¸ì‘ìš©í•œ ë’¤ì—ë§Œ ì‹œë„
  // - ê°™ì€ ë¬¸ì œì—ì„œëŠ” ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€(lastSpokenKey)
  if (dom.autoPronounceToggle.checked && userInteracted) {
    // ë Œë” ì§í›„ ë°”ë¡œ í˜¸ì¶œ(ëŒ€ë¶€ë¶„ OK). ë„ˆë¬´ ë¹ ë¥´ë©´ ë§‰íˆëŠ” ë¸Œë¼ìš°ì €ë„ ìˆì–´ setTimeout ì•½ê°„ ì¤Œ.
    setTimeout(() => {
      // ì•„ì§ ì±„ì  ì „ì´ë¼ë„ ë‹¨ì–´ëŠ” ì½ì–´ì¤Œ
      speakWord(q.word, {force:false});
    }, 80);
  }
}

function renderSummary() {
  const total = quiz.questions.length;
  const s = quiz.state;
  const wrongOnly = s.wrong;

  dom.summary.innerHTML = `
    <div class="hr"></div>
    <div class="row">
      <div>
        <div style="font-weight:1000; font-size:18px;">ê²°ê³¼</div>
        <div class="small">ì´ì : <b>${s.score}</b> / ${total}</div>
        <div class="small muted">ì™„ë£Œ: ${total}ë¬¸í•­</div>
      </div>
      <div class="row">
        <button class="btn secondary" id="btnGoFirst">ì²« ë¬¸ì œë¡œ</button>
      </div>
    </div>

    <details ${wrongOnly.length ? "open" : ""}>
      <summary>ì˜¤ë‹µ ë…¸íŠ¸ (${wrongOnly.length}ê°œ)</summary>
      ${wrongOnly.length ? `
      <table>
        <thead>
          <tr><th>Q</th><th>ë‹¨ì–´</th><th>ë‚´ ì„ íƒ</th><th>ì •ë‹µ</th></tr>
        </thead>
        <tbody>
          ${wrongOnly.map(w => `
            <tr>
              <td>${w.qNo}</td>
              <td><b>${escapeHtml(w.word)}</b></td>
              <td>${escapeHtml(w.chosenText)}</td>
              <td>${escapeHtml(w.correctText)}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>` : `<div class="small muted" style="margin-top:10px;">ì˜¤ë‹µì´ ì—†ìŠµë‹ˆë‹¤.</div>`}
    </details>
  `;

  document.getElementById("btnGoFirst").addEventListener("click", () => {
    quiz.state.idx = 0;
    saveState();
    render();
  });
}

function checkAnswer() {
  const s = quiz.state;
  const qIndex = s.order[s.idx];
  const q = quiz.questions[qIndex];

  const chosen = s.selected[s.idx];
  if (chosen === null || s.checked[s.idx]) return;

  // âœ… ì±„ì  ì²˜ë¦¬
  s.checked[s.idx] = true;

  // âœ… ìŠ¤ì½”ì–´ë³´ë“œ ì¹´ìš´íŠ¸ ê°±ì‹ 
  s.answeredCount += 1;

  if (chosen === q.correctIndex) {
    s.score += 1;
    s.correctCount += 1;
    s.streak += 1;
    if (s.streak > s.bestStreak) s.bestStreak = s.streak;
  } else {
    s.wrongCount += 1;
    s.streak = 0;

    const qNo = s.idx + 1;
    if (!s.wrong.some(x => x.qNo === qNo)) {
      s.wrong.push({
        qNo,
        word: q.word,
        chosenText: q.options[chosen],
        correctText: q.options[q.correctIndex],
      });
    }
  }

  saveState();
  render();
}

function startQuiz({ wrongOnly=false } = {}) {
  userInteracted = true; // âœ… ì‹œì‘ ë²„íŠ¼ë„ ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ìœ¼ë¡œ ê°„ì£¼(ìë™ ë°œìŒ ì‹œë„ ê°€ëŠ¥)
  lastSpokenKey = "";    // ìƒˆ ì‹œì‘ ì‹œ ìë™ë°œìŒ ì¤‘ë³µ ë°©ì§€ í‚¤ ì´ˆê¸°í™”

  const range = dom.rangeSelect.value;
  const entries = filterByRange(range);
  const questions = buildQuestions(entries);

  const total = questions.length;
  const baseState = defaultState(total);
  if (dom.shuffleToggle.checked) baseState.order = shuffle(baseState.order);

  const loaded = loadState(total);

  quiz.entries = entries;
  quiz.questions = questions;
  quiz.state = loaded ?? baseState;

  if (wrongOnly && loaded?.wrong?.length) {
    const wrongWords = new Set(loaded.wrong.map(w => w.word.toLowerCase()));
    const wrongEntries = entries.filter(e => wrongWords.has(e.word.toLowerCase()));
    if (wrongEntries.length) {
      quiz.entries = wrongEntries;
      quiz.questions = buildQuestions(wrongEntries);
      quiz.state = defaultState(quiz.questions.length);
      if (dom.shuffleToggle.checked) quiz.state.order = shuffle(quiz.state.order);
    }
  }

  saveState();
  render();
}

/** ===== ìœ í‹¸ ===== */
function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}
function escapeHtml(s) {
  return String(s).replace(/[&<>"']/g, m => ({
    "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
  }[m]));
}

/** ===== ì´ë²¤íŠ¸ ===== */
dom.btnStart.addEventListener("click", () => startQuiz({ wrongOnly:false }));
dom.btnWrongOnly.addEventListener("click", () => startQuiz({ wrongOnly:true }));

dom.btnReset.addEventListener("click", () => {
  userInteracted = true;
  if (!confirm("ì„ íƒí•œ ë²”ìœ„ì˜ ì €ì¥ëœ ì§„í–‰ìƒí™©ì„ ì™„ì „ ì´ˆê¸°í™”í• ê¹Œìš”?")) return;
  localStorage.removeItem(getKey());
  quiz.state = null;
  lastSpokenKey = "";
  render();
});

dom.btnPrev.addEventListener("click", () => {
  userInteracted = true;
  if (!quiz.state) return;
  quiz.state.idx = Math.max(0, quiz.state.idx - 1);
  saveState();
  render();
});
dom.btnNext.addEventListener("click", () => {
  userInteracted = true;
  if (!quiz.state) return;
  quiz.state.idx = Math.min(quiz.questions.length - 1, quiz.state.idx + 1);
  saveState();
  render();
});

dom.rangeSelect.addEventListener("change", () => {
  quiz.state = null;
  lastSpokenKey = "";
  render();
});

dom.saveToggle.addEventListener("change", () => {
  userInteracted = true;
  if (!dom.saveToggle.checked) {
    alert("ìë™ ì €ì¥ì´ êº¼ì¡ŒìŠµë‹ˆë‹¤. ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì§„í–‰ìƒí™©ì´ ìœ ì§€ë˜ì§€ ì•Šì„ ìˆ˜ ìˆì–´ìš”.");
  }
});

dom.autoPronounceToggle.addEventListener("change", () => {
  userInteracted = true;
  // ì¼œëŠ” ìˆœê°„ í˜„ì¬ ë¬¸ì œ í•œ ë²ˆ ì½ì–´ì£¼ê¸°(ì›í•˜ë©´)
  if (dom.autoPronounceToggle.checked && quiz.state) {
    const s = quiz.state;
    const qIndex = s.order[s.idx];
    const q = quiz.questions[qIndex];
    speakWord(q.word, {force:true});
  }
});

render();
</script>
</body>
</html>
