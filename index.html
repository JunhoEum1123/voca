<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vocabulary App (1700-3000)</title>

<style>
:root{
  --bg:#0f172a;
  --card:#1e293b;
  --text:#e2e8f0;
  --accent:#38bdf8;
}

body.light{
  --bg:#f1f5f9;
  --card:#ffffff;
  --text:#0f172a;
}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:var(--bg);
  color:var(--text);
  transition:0.3s;
}

.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}

.card{
  background:var(--card);
  border-radius:16px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
}

button{
  padding:12px 18px;
  border:none;
  border-radius:10px;
  background:var(--accent);
  color:#000;
  font-weight:bold;
  cursor:pointer;
  margin:5px;
}

input{
  padding:10px;
  border-radius:8px;
  border:none;
  margin:5px;
  width:100px;
}

#timer{
  font-size:20px;
  font-weight:bold;
  color:#f87171;
}

.word{
  font-size:28px;
  margin:20px 0;
}

.hidden{
  display:none;
}

.switch{
  float:right;
}
</style>
</head>

<body>
<div class="container">

<div class="switch">
  ğŸŒ™/â˜€ï¸ <input type="checkbox" id="themeToggle">
</div>

<!-- ì²« í™”ë©´ -->
<div id="home" class="card">
  <h2>ë‹¨ì–´ í•™ìŠµ ì•±</h2>
  <button onclick="showExam()">ì‹œí—˜ ë³´ê¸°</button>
  <button onclick="showVocab()">ë‹¨ì–´ì¥ ë³´ê¸°</button>
</div>

<!-- ì‹œí—˜ ì„¤ì • -->
<div id="examSetup" class="card hidden">
  <h3>ì‹œí—˜ ì„¤ì •</h3>
  ì‹œì‘ ë²ˆí˜¸ <input type="number" id="startNum" value="1700">
  ë ë²ˆí˜¸ <input type="number" id="endNum" value="3000">
  ë¬¸ì œ ìˆ˜ <input type="number" id="questionCount" value="20">
  <br><br>
  <button onclick="startExam()">ì‹œí—˜ ì‹œì‘</button>
</div>

<!-- ì‹œí—˜ í™”ë©´ -->
<div id="exam" class="card hidden">
  <div id="timer">10:00</div>
  <div id="questionNumber"></div>
  <div class="word" id="word"></div>
  <input type="text" id="answer" placeholder="ëœ» ì…ë ¥">
  <br>
  <button onclick="submitAnswer()">ë‹¤ìŒ</button>
</div>

<!-- ë‹¨ì–´ì¥ -->
<div id="vocab" class="card hidden">
  <h3>ë‹¨ì–´ì¥ (1700~3000)</h3>
  <div id="vocabList"></div>
</div>

</div>

<script>
// ===== ë‹¤í¬ëª¨ë“œ =====
const toggle = document.getElementById("themeToggle");
if(localStorage.getItem("theme")==="light"){
  document.body.classList.add("light");
  toggle.checked = true;
}
toggle.addEventListener("change",()=>{
  document.body.classList.toggle("light");
  localStorage.setItem("theme",
    document.body.classList.contains("light")?"light":"dark"
  );
});

// ===== DB (1700~3000 í•µì‹¬ ì •ì œ ì ìš©) =====
const wordDB = [
{num:1700, en:"illuminate", ko:"ë¹„ì¶”ë‹¤, ë°ê²Œ í•˜ë‹¤"},
{num:1701, en:"hub", ko:"ì¤‘ì‹¬ì§€, ì¤‘ì¶”"},
{num:1702, en:"indefinitely", ko:"ë¬´ê¸°í•œìœ¼ë¡œ"},
{num:1703, en:"nasty", ko:"ë¹„ì—´í•œ, ì‹¬ìˆ ê¶‚ì€"},
{num:1704, en:"inject", ko:"ë„ì…í•˜ë‹¤, ì£¼ì…í•˜ë‹¤"},
{num:1705, en:"inventory", ko:"ì¬ê³ "},
{num:1706, en:"breed", ko:"ìƒˆë¼ë¥¼ ë‚³ë‹¤"},
{num:1707, en:"specify", ko:"ëª…ì‹œí•˜ë‹¤"},
{num:1708, en:"legitimate", ko:"í•©ë²•ì ì¸"},
{num:1709, en:"democracy", ko:"ë¯¼ì£¼ì£¼ì˜"},
{num:1710, en:"magnetic", ko:"ìì„±ì˜"},
{num:1775, en:"horizon", ko:"ìˆ˜í‰ì„ "},
{num:1776, en:"prescribe", ko:"ì²˜ë°©í•˜ë‹¤"},
{num:1800, en:"procrastination", ko:"ë¯¸ë£¨ëŠ” ë²„ë¦‡"},
{num:1850, en:"ample", ko:"ì¶©ë¶„í•œ"},
{num:1900, en:"dilate", ko:"í™•ì¥í•˜ë‹¤"},
{num:2000, en:"impair", ko:"ì†ìƒì‹œí‚¤ë‹¤"},
{num:2100, en:"apprehension", ko:"ì´í•´, ë¶ˆì•ˆ"},
{num:2200, en:"conspicuous", ko:"ëˆˆì— ë„ëŠ”"},
{num:2300, en:"dejected", ko:"ë‚™ë‹´í•œ"},
{num:2400, en:"substantially", ko:"ìƒë‹¹íˆ"},
{num:2500, en:"buzz", ko:"ìœ™ìœ™ê±°ë¦¬ë‹¤"},
{num:2600, en:"official", ko:"ê³µì‹ì˜"},
{num:2700, en:"arousal", ko:"ê°ì„±"},
{num:2800, en:"make out", ko:"ì´í•´í•˜ë‹¤"},
{num:2900, en:"clean up", ko:"ì²­ì†Œí•˜ë‹¤"},
{num:2994, en:"bail out", ko:"êµ¬ì¶œí•˜ë‹¤, ê¸´ê¸‰ êµ¬ì œí•˜ë‹¤"},
{num:2995, en:"cling to", ko:"ê³ ìˆ˜í•˜ë‹¤, ë§¤ë‹¬ë¦¬ë‹¤"},
{num:2996, en:"be predisposed to", ko:"~í•˜ëŠ” ì„±í–¥ì´ ìˆë‹¤"},
{num:2997, en:"go through with", ko:"ëê¹Œì§€ ì‹¤í–‰í•˜ë‹¤"},
{num:2998, en:"turn over", ko:"ë„˜ê¸°ë‹¤"},
{num:2999, en:"go over", ko:"ê²€í† í•˜ë‹¤"},
{num:3000, en:"bottom line", ko:"í•µì‹¬ ê²°ë¡ "}
];

// ===== í™”ë©´ ì „í™˜ =====
function showExam(){
  home.classList.add("hidden");
  examSetup.classList.remove("hidden");
}
function showVocab(){
  home.classList.add("hidden");
  vocab.classList.remove("hidden");
  renderVocab();
}

// ===== ë‹¨ì–´ì¥ =====
function renderVocab(){
  vocabList.innerHTML="";
  wordDB.forEach(w=>{
    vocabList.innerHTML += `${w.num} / ${w.en} / ${w.ko}<br>`;
  });
}

// ===== ì‹œí—˜ ë¡œì§ =====
let questions=[];
let current=0;
let score=0;
let timer;
let timeLeft=600; // 10ë¶„

function startExam(){
  const start = parseInt(startNum.value);
  const end = parseInt(endNum.value);
  const count = parseInt(questionCount.value);

  const pool = wordDB.filter(w=>w.num>=start && w.num<=end);
  questions = pool.sort(()=>0.5-Math.random()).slice(0,count);

  current=0;
  score=0;
  timeLeft=600;

  examSetup.classList.add("hidden");
  exam.classList.remove("hidden");

  startTimer();
  showQuestion();
}

function startTimer(){
  clearInterval(timer);
  timer = setInterval(()=>{
    timeLeft--;
    const min = String(Math.floor(timeLeft/60)).padStart(2,'0');
    const sec = String(timeLeft%60).padStart(2,'0');
    document.getElementById("timer").textContent=`${min}:${sec}`;

    if(timeLeft<=0){
      finishExam();
    }
  },1000);
}

function showQuestion(){
  if(current>=questions.length){
    finishExam();
    return;
  }
  document.getElementById("questionNumber").textContent=
    `${current+1} / ${questions.length}`;
  document.getElementById("word").textContent=
    questions[current].en;
  document.getElementById("answer").value="";
}

function submitAnswer(){
  const user = answer.value.trim();
  const correct = questions[current].ko;

  if(user && correct.includes(user)){
    score++;
  }
  current++;
  showQuestion();
}

function finishExam(){
  clearInterval(timer);
  const finalScore = Math.round((score/questions.length)*100);
  alert(`ì‹œí—˜ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nì ìˆ˜: ${finalScore}ì  / 100ì `);
  location.reload();
}
</script>
</body>
</html>
