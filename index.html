<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VOCA TEST (1451â€“1604)</title>

  <style>
    :root{
      /* default = dark */
      --bg: #0b0c10;
      --fg: #e7e7e7;
      --card: #14161d;
      --border: #232636;
      --muted: rgba(231,231,231,.75);
      --pill: #1c2030;
      --pillBorder:#2b3250;
      --btn:#2a63ff;
      --btn2:#2b3250;
      --danger:#ff3b3b;
      --choiceBg:#0f1118;
      --choiceBorder:#2b3250;
      --choiceHover:#121a34;
      --good:#35d07f;
      --bad:#ff6b6b;

      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
    }
    [data-theme="light"]{
      --bg:#f6f7fb;
      --fg:#10131a;
      --card:#ffffff;
      --border:#d8dbe6;
      --muted: rgba(16,19,26,.7);
      --pill:#f1f3fb;
      --pillBorder:#d8dbe6;
      --btn:#2a63ff;
      --btn2:#3a405f;
      --danger:#e23b3b;
      --choiceBg:#f6f7fb;
      --choiceBorder:#d8dbe6;
      --choiceHover:#eef2ff;
      --good:#1fae63;
      --bad:#e05252;
    }

    body{ margin:0; background:var(--bg); color:var(--fg); font-size:18px; }
    .wrap{ max-width: 980px; margin:0 auto; padding:18px; }
    .card{
      background:var(--card); border:1px solid var(--border);
      border-radius:14px; padding:18px; box-shadow:0 6px 18px rgba(0,0,0,.18);
    }
    h1{ margin:0 0 10px; font-size:22px; }
    .sub{ opacity:.9; font-size:15px; margin-bottom:14px; line-height:1.55; color:var(--muted); }
    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; }
    .pill{ background:var(--pill); border:1px solid var(--pillBorder); padding:8px 12px; border-radius:999px; font-size:14px; }
    .btn{
      background:var(--btn); border:0; color:white; padding:12px 14px; border-radius:12px;
      cursor:pointer; font-weight:900; font-size:15px;
    }
    .btn.secondary{ background:var(--btn2); }
    .btn.danger{ background:var(--danger); }
    .btn:disabled{ opacity:.5; cursor:not-allowed; }
    .iconbtn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:10px 12px; border-radius:12px; border:1px solid var(--pillBorder);
      background:var(--choiceBg); color:var(--fg); cursor:pointer; font-weight:1000; font-size:15px;
    }
    .iconbtn:hover{ border-color:#86a3ff; background:var(--choiceHover); }
    .progressbar{
      height:12px; background:var(--choiceBg); border:1px solid var(--border);
      border-radius:999px; overflow:hidden; margin-top:12px;
    }
    .bar{ height:100%; width:0%; background:var(--btn); }
    .qbox{ margin-top:14px; }
    .qhead{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .qnum{ font-weight:900; font-size:16px; opacity:.95; }
    .word{ font-size:36px; font-weight:1000; letter-spacing:.3px; }
    .meta{ font-size:13px; opacity:.85; color:var(--muted); }
    .choices{ display:grid; gap:12px; margin-top:14px; }
    .choice{
      background:var(--choiceBg); border:1px solid var(--choiceBorder); border-radius:14px;
      padding:14px; cursor:pointer; display:flex; gap:12px; align-items:flex-start;
      transition:transform .05s ease; user-select:none; font-size:18px; line-height:1.5;
    }
    .choice:hover{ transform: translateY(-1px); background:var(--choiceHover); }
    .choice.selected{ border-color:#86a3ff; }
    .choice.correct{ border-color:var(--good); }
    .choice.wrong{ border-color:var(--bad); }
    .tag{ font-weight:1000; width:30px; text-align:center; opacity:.95; }
    .result{ margin-top:12px; padding:14px; border-radius:14px; border:1px solid var(--choiceBorder); background:var(--choiceBg); }
    .result.good{ border-color:var(--good); }
    .result.bad{ border-color:var(--bad); }
    .small{ font-size:15px; line-height:1.6; color:var(--fg); opacity:.95; }
    .muted{ color:var(--muted); }
    .footer{ margin-top:14px; display:flex; gap:10px; flex-wrap:wrap; }
    details{ margin-top:14px; }
    summary{ cursor:pointer; font-weight:1000; font-size:16px; }
    table{ width:100%; border-collapse:collapse; margin-top:10px; }
    th, td{ border-bottom:1px solid var(--border); padding:12px 8px; text-align:left; font-size:15px; }
    th{ opacity:.9; }
    .controls{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:10px; }
    select, input[type="checkbox"], input[type="number"], input[type="text"]{ accent-color: var(--btn); }
    select, input[type="number"], input[type="text"]{
      background:var(--choiceBg); color:var(--fg); border:1px solid var(--choiceBorder);
      border-radius:12px; padding:10px 12px; font-weight:900; font-size:15px;
    }
    label{ font-size:15px; opacity:.95; display:flex; gap:8px; align-items:center; }
    .hr{ border:0; border-top:1px solid var(--border); margin:16px 0; }
    .kbd{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:13px; padding:3px 8px; border:1px solid var(--choiceBorder); border-radius:10px; background:var(--choiceBg); }
    .mini{ font-size:13px; opacity:.85; color:var(--muted); }

    .scoreboard{
      margin-top:14px; padding:14px; border-radius:14px; border:1px solid var(--border); background:var(--choiceBg);
    }
    .scoregrid{ display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:10px; margin-top:10px; }
    .scoreitem{ background:var(--card); border:1px solid var(--choiceBorder); border-radius:14px; padding:12px; }
    .scorelabel{ font-size:13px; opacity:.75; font-weight:900; color:var(--muted); }
    .scorevalue{ font-size:24px; font-weight:1000; margin-top:4px; }

    @media (min-width:760px){
      .scoregrid{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }

    /* í™ˆ(ëª¨ë“œ ì„ íƒ) */
    .modegrid{
      display:grid; gap:12px; margin-top:12px;
      grid-template-columns: 1fr;
    }
    .modecard{
      border:1px solid var(--choiceBorder);
      background:var(--choiceBg);
      border-radius:14px;
      padding:14px;
    }
    .modecard h2{ margin:0 0 8px; font-size:18px; }
    .modecard p{ margin:0; color:var(--muted); font-size:14px; line-height:1.55; }
    .topbar{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; }

    /* ë‹¨ì–´ì¥ */
    .wb-top{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; }
    .wb-list{ margin-top:12px; display:grid; gap:10px; }
    .wb-item{
      border:1px solid var(--choiceBorder);
      background:var(--choiceBg);
      border-radius:14px;
      padding:12px;
    }
    .wb-line1{ display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .wb-num{ font-weight:1000; opacity:.9; }
    .wb-word{ font-weight:1000; font-size:20px; }
    .wb-mean{ margin-top:6px; color:var(--muted); font-size:15px; line-height:1.55; }
    .wb-actions{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    .chip{
      border:1px solid var(--choiceBorder);
      background:transparent;
      color:var(--fg);
      border-radius:999px;
      padding:8px 10px;
      font-weight:900;
      cursor:pointer;
      font-size:13px;
    }
    .chip:hover{ background:var(--choiceHover); }

    /* ìŠ¤ìœ„ì¹˜(í…Œë§ˆ) */
    .switch{
      display:inline-flex; align-items:center; gap:10px; user-select:none;
      border:1px solid var(--pillBorder); background:var(--choiceBg);
      padding:8px 10px; border-radius:999px;
      cursor:pointer; font-weight:1000; font-size:14px;
    }
    .dot{
      width:34px; height:18px; border-radius:999px; position:relative;
      background: rgba(127,127,127,.25);
      border:1px solid var(--choiceBorder);
    }
    .dot::after{
      content:""; position:absolute; top:2px; left:2px; width:14px; height:14px;
      border-radius:999px; background: var(--btn);
      transition: left .18s ease;
    }
    [data-theme="light"] .dot::after{ left:18px; }

    /* âœ… íƒ€ì´ë¨¸ ê²½ê³  ìŠ¤íƒ€ì¼(ì¶”ê°€) */
    .pill.timer-danger{
      border-color: var(--bad);
      box-shadow: 0 0 0 2px rgba(224,82,82,.18);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <div class="topbar">
        <div>
          <h1 id="appTitle">Vocabulary 1451â€“1700</h1>
          <div class="sub" id="appSubtitle">
            ì²˜ìŒ í˜ì´ì§€ì—ì„œ <b>ë‹¨ì–´ì¥</b> / <b>ì‹œí—˜(í€´ì¦ˆ)</b>ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (í…Œë§ˆ: ë‹¤í¬/í™”ì´íŠ¸ ìŠ¤ìœ„ì¹˜ ì§€ì›)
          </div>
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
          <div class="switch" id="themeSwitch" title="ë‹¤í¬/í™”ì´íŠ¸ ëª¨ë“œ ì „í™˜">
            <span id="themeLabel">ë‹¤í¬</span>
            <span class="dot" aria-hidden="true"></span>
          </div>
          <button class="btn secondary" id="btnHome" style="display:none;">í™ˆ</button>
        </div>
      </div>

      <!-- ===== í™ˆ í™”ë©´(ëª¨ë“œ ì„ íƒ) ===== -->
      <div id="viewHome">
        <div class="modegrid">
          <div class="modecard">
            <h2>ğŸ“˜ ë‹¨ì–´ì¥ ë³´ê¸°</h2>
            <p>ë‹¨ì–´ë¥¼ ëª©ë¡ìœ¼ë¡œ í™•ì¸í•˜ê³ , ë°œìŒ ë“£ê¸°, ë³µì‚¬ ë“±ì„ í•  ìˆ˜ ìˆì–´ìš”.</p>
            <div style="margin-top:10px;">
              <button class="btn" id="goWordbook">ë‹¨ì–´ì¥ìœ¼ë¡œ</button>
            </div>
          </div>

          <div class="modecard">
            <h2>ğŸ“ ì‹œí—˜(í€´ì¦ˆ) ì¹˜ê¸°</h2>
            <p>ì‹œì‘ ë²ˆí˜¸/ë ë²ˆí˜¸, ë¬¸ì œ ìˆ˜ëŸ‰(ëœë¤ ì¶”ì¶œ), ì˜¤ë‹µë§Œ ë‹¤ì‹œ, ìë™ ì €ì¥/ë°œìŒ ë“±ì„ ì§€ì›í•©ë‹ˆë‹¤.</p>
            <div style="margin-top:10px;">
              <button class="btn" id="goQuiz">ì‹œí—˜ ì¹˜ê¸°</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ===== ë‹¨ì–´ì¥ ===== -->
      <div id="viewWordbook" style="display:none;">
        <div class="wb-top">
          <div class="row" style="justify-content:flex-start;">
            <div class="pill" id="wbPillCount">ë‹¨ì–´: 0</div>
            <div class="pill" id="wbPillRange">ë²”ìœ„: -</div>
          </div>
          <div class="wb-actions">
            <button class="chip" id="wbSortNum">ë²ˆí˜¸ìˆœ</button>
            <button class="chip" id="wbSortWord">ì•ŒíŒŒë²³ìˆœ</button>
            <button class="chip" id="wbSortShuffle">ì„ê¸°</button>
          </div>
        </div>

        <div class="controls" style="margin-top:12px;">
          <label>ì‹œì‘
            <input type="number" id="wbStart" min="1451" max="1700" value="1451">
          </label>
          <label>ë
            <input type="number" id="wbEnd" min="1451" max="1700" value="1700">
          </label>
          <label>ê²€ìƒ‰
            <input type="text" id="wbSearch" placeholder="ì˜ˆ: intrinsic / ë³¸ì§ˆ / 1504" style="min-width:240px;">
          </label>
          <button class="btn secondary" id="wbApply">ì ìš©</button>
        </div>

        <div class="mini muted" style="margin-top:8px;">
          ğŸ”Š ë°œìŒì€ ë¸Œë¼ìš°ì € TTS(Web Speech API)ë¡œ ì¬ìƒë©ë‹ˆë‹¤(ê°€ëŠ¥í•œ ê²½ìš°).
        </div>

        <div class="wb-list" id="wbList"></div>
      </div>

      <!-- ===== í€´ì¦ˆ ===== -->
      <div id="viewQuiz" style="display:none;">
        <div class="row">
          <div class="row" style="justify-content:flex-start;">
            <div class="pill" id="pillCount">ë¬¸í•­: 0</div>
            <div class="pill" id="pillProgress">ì§„í–‰: 0/0</div>
            <div class="pill" id="pillScore">ì ìˆ˜: 0</div>
            <!-- âœ… íƒ€ì´ë¨¸ pill (ì¶”ê°€) -->
            <div class="pill" id="pillTimer">ì‹œí—˜ì‹œê°„: 10:00</div>
          </div>
          <div class="mini muted" id="quizRangeInfo"></div>
        </div>

        <div class="controls">
          <label>ì‹œì‘ ë²ˆí˜¸
            <input type="number" id="startNum" min="1451" max="1700" value="1451" />
          </label>
          <label>ë ë²ˆí˜¸
            <input type="number" id="endNum" min="1451" max="1700" value="1700" />
          </label>
          <label>ë¬¸ì œ ìˆ˜
            <input type="number" id="questionCount" min="1" max="250" value="30" />
          </label>

          <label><input type="checkbox" id="shuffleToggle" checked /> ë¬¸ì œ ìˆœì„œ ì„ê¸°</label>
          <label><input type="checkbox" id="saveToggle" checked /> ì§„í–‰ìƒí™© ìë™ ì €ì¥</label>
          <label><input type="checkbox" id="autoPronounceToggle" checked /> ë¬¸ì œ í‘œì‹œ ì‹œ ìë™ ë°œìŒ</label>

          <button class="btn" id="btnStart">í€´ì¦ˆ ì‹œì‘/ì¬ì‹œì‘</button>
          <button class="btn secondary" id="btnWrongOnly" disabled>ì˜¤ë‹µë§Œ ë‹¤ì‹œ</button>
          <button class="btn danger" id="btnReset">ì™„ì „ ì´ˆê¸°í™”</button>
        </div>

        <div class="progressbar" aria-label="progress">
          <div class="bar" id="bar"></div>
        </div>

        <!-- ìŠ¤ì½”ì–´ë³´ë“œ -->
        <div class="scoreboard" id="scoreboard">
          <div style="font-weight:1000; font-size:16px;">ìŠ¤ì½”ì–´ë³´ë“œ</div>
          <div class="mini muted">ì´ ì‘ì‹œ/ì •ë‹µ/ì˜¤ë‹µ, ì—°ì† ì •ë‹µ(ìŠ¤íŠ¸ë¦­)</div>
          <div class="scoregrid">
            <div class="scoreitem">
              <div class="scorelabel">ì‘ì‹œ(ì±„ì  ì™„ë£Œ)</div>
              <div class="scorevalue" id="sbAnswered">0</div>
            </div>
            <div class="scoreitem">
              <div class="scorelabel">ì •ë‹µ</div>
              <div class="scorevalue" id="sbCorrect">0</div>
            </div>
            <div class="scoreitem">
              <div class="scorelabel">ì˜¤ë‹µ</div>
              <div class="scorevalue" id="sbWrong">0</div>
            </div>
            <div class="scoreitem">
              <div class="scorelabel">ì—°ì† ì •ë‹µ</div>
              <div class="scorevalue" id="sbStreak">0</div>
            </div>
          </div>
          <div class="mini muted" id="sbNote" style="margin-top:8px;"></div>
        </div>

        <div class="qbox" id="qbox"></div>

        <div class="footer">
          <button class="btn secondary" id="btnPrev">ì´ì „</button>
          <button class="btn" id="btnNext">ë‹¤ìŒ</button>
        </div>

        <div id="summary"></div>
      </div>
    </div>
  </div>

  <script id="DATA">
    // âœ… DB: 1451â€“1700
    // âš ï¸ í˜„ì¬ ëŒ€í™”ì—ì„œ ì‚¬ìš©ìê°€ ì œê³µí•œ í™•ì • ë°ì´í„°ëŠ” 1451â€“1607ê¹Œì§€ì…ë‹ˆë‹¤.
    // 1608â€“1700ì„ ì—¬ê¸°ì— ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì¶”ê°€í•˜ë©´ ìë™ìœ¼ë¡œ ì „ì²´ê°€ ë°˜ì˜ë©ë‹ˆë‹¤.
    // í˜•ì‹: { num: 1608, word: "....", meaning: "...." }

    const VOCAB_DATA = [
      { num:1451, word:"impartial", meaning:"ê³µì •í•œ, í¸ê²¬ì´ ì—†ëŠ”" },
      { num:1452, word:"confederate", meaning:"ê³µë²”, ê³µëª¨ì" },
      { num:1453, word:"legislation", meaning:"ë²•ë¥ (ì œì •)" },
      { num:1454, word:"inscription", meaning:"ìƒˆê¸°ê¸°, ëª…ê°" },
      { num:1455, word:"versatile", meaning:"ë‹¤ì¬ë‹¤ëŠ¥í•œ, ë‹¤ìš©ë„ì˜" },
      { num:1456, word:"limp", meaning:"ê¸°ìš´ì´ ì—†ëŠ”, ì¶• ì²˜ì§„" },
      { num:1457, word:"intrinsic", meaning:"ê³ ìœ í•œ, ë³¸ì§ˆì ì¸" },
      { num:1458, word:"limb", meaning:"íŒ”, ë‹¤ë¦¬, (ìƒˆì˜) ë‚ ê°œ" },
      { num:1459, word:"prehistoric", meaning:"ì„ ì‚¬ ì‹œëŒ€ì˜" },

      { num:1460, word:"rush", meaning:"ì„œë‘ë¥´ë‹¤" },
      { num:1461, word:"stale", meaning:"ì§„ë¶€í•œ, ì‹ ì„ í•˜ì§€ ì•Šì€" },
      { num:1462, word:"gratitude", meaning:"ê°ì‚¬, ê³ ë§ˆì›€" },
      { num:1463, word:"garment", meaning:"ì˜ë³µ, ì˜·" },
      { num:1464, word:"reproach", meaning:"ë¹„ë‚œí•˜ë‹¤, ë‚˜ë¬´ë¼ë‹¤" },
      { num:1465, word:"handicap", meaning:"ë¶ˆë¦¬í•˜ê²Œ ë§Œë“¤ë‹¤, ë°©í•´í•˜ë‹¤" },
      { num:1466, word:"spiny", meaning:"ê°€ì‹œê°€ ë§ì€" },
      { num:1467, word:"suspicion", meaning:"ì˜ì‹¬, ë¶ˆì‹ , í˜ì˜" },
      { num:1468, word:"spawn", meaning:"(ì•Œì„) ë‚³ë‹¤, ìƒì‚°í•˜ë‹¤" },
      { num:1469, word:"sedentary", meaning:"í•œê³³ì— ë¨¸ë¬¼ëŸ¬ ì‚¬ëŠ”, ì •ì°©í•˜ê³  ìˆëŠ”" },

      { num:1470, word:"humble", meaning:"ê²¸ì†í•œ" },
      { num:1471, word:"incur", meaning:"(ë‚˜ìœ ìƒí™©ì„) ì´ˆë˜í•˜ë‹¤, (ì†í•´Â·ë¹šì„) ë°œìƒì‹œí‚¤ë‹¤" },
      { num:1472, word:"indulge", meaning:"(ìš•êµ¬Â·ì¾Œë½ì—) ë¹ ì§€ë‹¤, íƒë‹‰í•˜ë‹¤" },
      { num:1473, word:"thaw", meaning:"ë…¹ë‹¤, í•´ë™ì‹œí‚¤ë‹¤" },
      { num:1474, word:"inspection", meaning:"ì‚¬ì°°, ì ê²€, ì •ë°€ì¡°ì‚¬" },
      { num:1475, word:"invert", meaning:"ë’¤ì§‘ë‹¤, ë„ì¹˜ì‹œí‚¤ë‹¤" },
      { num:1476, word:"leftover", meaning:"(ì£¼ë¡œ ë³µìˆ˜ë¡œ) ë‚¨ì€ ìŒì‹" },
      { num:1477, word:"liken", meaning:"~ì— ë¹„ìœ í•˜ë‹¤" },
      { num:1478, word:"disseminate", meaning:"(ì •ë³´Â·ì‚¬ìƒ ë“±ì„) í¼ëœ¨ë¦¬ë‹¤, ì „íŒŒí•˜ë‹¤" },
      { num:1479, word:"linger", meaning:"ë‚¨ì•„ ìˆë‹¤, ì˜¤ë˜ ëŒë‹¤" },

      { num:1480, word:"circumstance", meaning:"ìƒí™©, í™˜ê²½" },
      { num:1481, word:"martial", meaning:"ì‹¸ì›€ì˜, ì „ìŸì˜" },
      { num:1482, word:"sorrowful", meaning:"ìŠ¬í”ˆ" },
      { num:1483, word:"peninsula", meaning:"ë°˜ë„" },
      { num:1484, word:"monk", meaning:"ìˆ˜ë„ì, ìˆ˜ë„ìŠ¹" },
      { num:1485, word:"maternal", meaning:"ì–´ë¨¸ë‹ˆì˜, ëª¨ì„±ì˜" },
      { num:1486, word:"minister", meaning:"ì„±ì§ì, ëª©ì‚¬" },
      { num:1487, word:"monetary", meaning:"í†µí™”[í™”í]ì˜, ê¸ˆì „ì˜" },
      { num:1488, word:"nostalgia", meaning:"í–¥ìˆ˜(ë³‘)" },
      { num:1489, word:"oblige", meaning:"ì˜ë¬´ì ìœ¼ë¡œ ~í•˜ê²Œ í•˜ë‹¤, ê°•ìš”í•˜ë‹¤" },
      { num:1490, word:"vocational", meaning:"ì§ì—…ê³¼ ê´€ë ¨ëœ, ì§ë¬´ìƒì˜" },
      { num:1491, word:"contestant", meaning:"(ëŒ€íšŒÂ·ì‹œí•©ì˜) ì°¸ê°€ì" },
      { num:1492, word:"subside", meaning:"ê°€ë¼ì•‰ë‹¤, ì§„ì •ë˜ë‹¤" },
      { num:1493, word:"stiffen", meaning:"ë»£ë»£í•´ì§€ë‹¤, ê²½ì§ë˜ë‹¤" },
      { num:1494, word:"onward", meaning:"ì•ìœ¼ë¡œ, ë‚˜ì•„ê°€ì„œ" },
      { num:1495, word:"outlaw", meaning:"ë¶ˆë²•í™”í•˜ë‹¤, ê¸ˆí•˜ë‹¤" },
      { num:1496, word:"outset", meaning:"ì°©ìˆ˜, ì‹œì´ˆ, ë°œë‹¨" },
      { num:1497, word:"overturn", meaning:"ë’¤ì§‘(íˆ)ë‹¤" },
      { num:1498, word:"ramification", meaning:"íŒŒë¬¸, ì˜í–¥" },
      { num:1499, word:"pathway", meaning:"ì¢ì€ ê¸¸, í†µë¡œ" },
      { num:1500, word:"pierce", meaning:"ëš«ë‹¤, ê´€í†µí•˜ë‹¤" },
      { num:1501, word:"nutrient", meaning:"ì˜ì–‘ì†Œ, ì˜ì–‘ë¶„" },

      { num:1502, word:"lodge", meaning:"ì˜¤ë‘ë§‰, ì‚°ì¥" },
      { num:1503, word:"loom", meaning:"ì–´ë ´í’‹ì´ ë‚˜íƒ€ë‚˜ë‹¤, ê³§ ë‹¥ì¹  ê²ƒì²˜ëŸ¼ ë³´ì´ë‹¤" },
      { num:1504, word:"mainstream", meaning:"(ì‚¬ìƒ ë“±ì˜) ì£¼ë¥˜, ëŒ€ì„¸" },
      { num:1505, word:"manuscript", meaning:"(ì±…Â·ì•…ë³´ ë“±ì˜) ì›ê³ , ì‚¬ë³¸" },
      { num:1506, word:"erupt", meaning:"(í™”ì‚°ì´) ë¶„ì¶œí•˜ë‹¤, í­ë°œí•˜ë‹¤" },
      { num:1507, word:"mighty", meaning:"ê°•ë ¥í•œ, í˜ì„¼" },
      { num:1508, word:"hull", meaning:"ì„ ì²´" },
      { num:1509, word:"muddy", meaning:"ì§„í™íˆ¬ì„±ì´ì¸" },
      { num:1510, word:"nuisance", meaning:"ì„±ê°€ì‹  ì‚¬ëŒ[ì¼], ê³¨ì¹«ê±°ë¦¬" },
      { num:1511, word:"splendid", meaning:"í›Œë¥­í•œ, ë©‹ì§„" },
      { num:1512, word:"strife", meaning:"ê°ˆë“±, ë¶ˆí™”, ë‹¤íˆ¼" },
      { num:1513, word:"stature", meaning:"ìœ„ìƒ, ìˆ˜ì¤€" },
      { num:1514, word:"adversity", meaning:"ì—­ê²½, ê³ ë‚œ" },
      { num:1515, word:"spacious", meaning:"ë„“ì€" },
      { num:1516, word:"unconsciously", meaning:"ë¬´ì˜ì‹ì ìœ¼ë¡œ" },
      { num:1517, word:"authoritative", meaning:"ê¶Œìœ„ ìˆëŠ”" },
      { num:1518, word:"actualize", meaning:"í˜„ì‹¤ë¡œ ë§Œë“¤ë‹¤, ì‹¤í˜„í•˜ë‹¤" },
      { num:1519, word:"console", meaning:"ìœ„ë¡œí•˜ë‹¤" },
      { num:1520, word:"drag", meaning:"ëŒë‹¤, ëŒê³  ê°€ë‹¤" },
      { num:1521, word:"authentic", meaning:"ì§„ì •í•œ, ì§„ì§œì˜" },
      { num:1522, word:"mammal", meaning:"í¬ìœ ë™ë¬¼" },
      { num:1523, word:"plunge", meaning:"ëŒì…í•˜ë‹¤" },

      { num:1524, word:"gigantic", meaning:"ê±°ëŒ€í•œ" },
      { num:1525, word:"predominate", meaning:"ìš°ì„¸í•˜ë‹¤, ì§€ë°°í•˜ë‹¤" },
      { num:1526, word:"rust", meaning:"ë…¹ì´ ìŠ¬ë‹¤, ë¶€ì‹í•˜ë‹¤[ì‹œí‚¤ë‹¤]" },
      { num:1527, word:"recede", meaning:"ë¬¼ëŸ¬ë‚˜ë‹¤, ì•½í•´ì§€ë‹¤" },
      { num:1528, word:"reprimand", meaning:"ì§ˆì±…í•˜ë‹¤" },
      { num:1529, word:"rhetorical", meaning:"ìˆ˜ì‚¬ì ì¸, ì›…ë³€ì ì¸" },
      { num:1530, word:"riddle", meaning:"êµ¬ë©ì„ ìˆ­ìˆ­ ëš«ë‹¤, ë²Œì§‘ê°™ì´ ë§Œë“¤ë‹¤" },
      { num:1531, word:"generalization", meaning:"ì¼ë°˜í™”" },
      { num:1532, word:"scramble", meaning:"ê¸°ì–´ ì˜¤ë¥´ë‹¤" },
      { num:1533, word:"speculate", meaning:"ì¶”ì¸¡[ì§ì‘]í•˜ë‹¤" },
      { num:1534, word:"stalk", meaning:"(ì‹ë¬¼ì˜) ì¤„ê¸°" },
      { num:1535, word:"stroll", meaning:"ì‚°ì±…í•˜ë‹¤, ê±°ë‹ë‹¤" },
      { num:1536, word:"stumble", meaning:"ìš°ì—°íˆ ë°œê²¬í•˜ë‹¤" },
      { num:1537, word:"outrun", meaning:"ë” ë¹¨ë¦¬[ë©€ë¦¬] ë‹¬ë¦¬ë‹¤" },
      { num:1538, word:"squeeze", meaning:"ì§œë‹¤" },
      { num:1539, word:"dumb", meaning:"ë©ì²­í•œ" },
      { num:1540, word:"stifle", meaning:"ì–µëˆ„ë¥´ë‹¤, ì–µì••í•˜ë‹¤" },
      { num:1541, word:"inescapable", meaning:"í”¼í•  ìˆ˜ ì—†ëŠ”" },
      { num:1542, word:"supervision", meaning:"ê°ë…, ê´€ë¦¬, ì§€íœ˜" },
      { num:1543, word:"synthetic", meaning:"í•©ì„±í•œ, ì¸ì¡°ì˜" },
      { num:1544, word:"peer", meaning:"ì‘ì‹œí•˜ë‹¤, ìœ ì‹¬íˆ ë³´ë‹¤" },
      { num:1545, word:"reconstruct", meaning:"ì¬êµ¬ì„±[ì¬í˜„]í•˜ë‹¤" },
      { num:1546, word:"enroll", meaning:"ë“±ë¡í•˜ë‹¤" },
      { num:1547, word:"utilize", meaning:"í™œìš©[ì´ìš©]í•˜ë‹¤" },
      { num:1548, word:"dignity", meaning:"ìœ„ì—„, í’ˆìœ„, ì¡´ì—„(ì„±)" },
      { num:1549, word:"slay", meaning:"ì£½ì´ë‹¤" },
      { num:1550, word:"presuppose", meaning:"ìƒì •í•˜ë‹¤, ì „ì œë¡œ í•˜ë‹¤" },
      { num:1551, word:"examine", meaning:"ê²€ì‚¬[ì¡°ì‚¬]í•˜ë‹¤" },
      { num:1552, word:"saturate", meaning:"í¬í™”ì‹œí‚¤ë‹¤, í¬í™” ìƒíƒœë¥¼ ë§Œë“¤ë‹¤" },
      { num:1553, word:"generate", meaning:"ë°œìƒì‹œí‚¤ë‹¤, ì´ˆë˜í•˜ë‹¤" },
      { num:1554, word:"sprout", meaning:"ì‹¹ì´ ë‚˜ë‹¤" },
      { num:1555, word:"offend", meaning:"ê¸°ë¶„ì„ ìƒí•˜ê²Œ í•˜ë‹¤" },
      { num:1556, word:"infancy", meaning:"ìœ ì•„ê¸°" },
      { num:1557, word:"stink", meaning:"ì•…ì·¨ë¥¼ í’ê¸°ë‹¤, ëƒ„ìƒˆê°€ ë‚˜ë‹¤" },
      { num:1558, word:"withdraw", meaning:"ì·¨ì†Œ[ì² íšŒ]í•˜ë‹¤" },
      { num:1559, word:"paddle", meaning:"ë…¸ë¥¼ ì “ë‹¤, ì²¨ë²™ê±°ë¦¬ë‹¤" },
      { num:1560, word:"propose", meaning:"(ê³„íšÂ·ìƒê°ì„) ì œì•ˆ[ì œì‹œ]í•˜ë‹¤" },
      { num:1561, word:"submerge", meaning:"ë¬¼ì†ì— ë„£ë‹¤[ì ê¸°ë‹¤]" },
      { num:1562, word:"overtake", meaning:"ì¶”ì›”í•˜ë‹¤, ëŠ¥ê°€í•˜ë‹¤" },
      { num:1563, word:"expose", meaning:"ë“œëŸ¬ë‚´ë‹¤, ë…¸ì¶œì‹œí‚¤ë‹¤" },
      { num:1564, word:"tariff", meaning:"ê´€ì„¸" },
      { num:1565, word:"utterly", meaning:"ì™„ì „íˆ, ìˆœì „íˆ, ì „í˜€" },

      { num:1566, word:"underestimate", meaning:"ë„ˆë¬´ ì ê²Œ ì¡ë‹¤, ê³¼ì†Œí‰ê°€í•˜ë‹¤" },
      { num:1567, word:"undue", meaning:"ì§€ë‚˜ì¹œ, ê³¼ë„í•œ" },
      { num:1568, word:"carve", meaning:"ì¡°ê°í•˜ë‹¤, ìƒˆê¸°ë‹¤" },
      { num:1569, word:"descendant", meaning:"ìì†, í›„ì˜ˆ" },
      { num:1570, word:"vein", meaning:"ì •ë§¥, í˜ˆê´€" },
      { num:1571, word:"informative", meaning:"ìœ ìµí•œ, êµìœ¡ì ì¸" },
      { num:1572, word:"predator", meaning:"í¬ì‹ì" },
      { num:1573, word:"withhold", meaning:"(~ì„) ì£¼ì§€ ì•Šë‹¤, ë³´ë¥˜í•˜ë‹¤" },
      { num:1574, word:"install", meaning:"ì„¤ì¹˜í•˜ë‹¤, ì¥ì°©í•˜ë‹¤" },
      { num:1575, word:"absurd", meaning:"ë¶ˆí•©ë¦¬í•œ" },
      { num:1576, word:"archaeology", meaning:"ê³ ê³ í•™" },
      { num:1577, word:"apparatus", meaning:"(ì‹ ì²´ì˜) ê¸°ê´€" },
      { num:1578, word:"acclaim", meaning:"í™˜í˜¸, ê°ˆì±„" },
      { num:1579, word:"herald", meaning:"ì•Œë¦¬ë‹¤, ë°œí‘œí•˜ë‹¤" },
      { num:1580, word:"succumb", meaning:"êµ´ë³µí•˜ë‹¤, (ë³‘ ë“±ìœ¼ë¡œ) ì“°ëŸ¬ì§€ë‹¤" },
      { num:1581, word:"stack", meaning:"ìŒ“ë‹¤, ìŒ“ì´ë‹¤" },
      { num:1582, word:"hostage", meaning:"ì¸ì§ˆ" },
      { num:1583, word:"thrift", meaning:"ì ˆì•½, ê²€ì•½" },
      { num:1584, word:"anonymous", meaning:"ìµëª…ì¸, ì‹ ì› ë¶ˆëª…ì˜" },
      { num:1585, word:"landfill", meaning:"ì“°ë ˆê¸° ë§¤ë¦½(ì§€)" },
      { num:1586, word:"astound", meaning:"ê²½ì•…ì‹œí‚¤ë‹¤, í° ì¶©ê²©ì„ ì£¼ë‹¤" },

      { num:1587, word:"uphold", meaning:"(ë²•Â·ì›ì¹™ ë“±ì„) ìœ ì§€í•˜ë‹¤, ì˜¹í˜¸í•˜ë‹¤" },
      { num:1588, word:"terrain", meaning:"ì§€í˜•, ì§€ì—­" },
      { num:1589, word:"thermal", meaning:"ì—´ì˜, ëœ¨ê±°ìš´" },
      { num:1590, word:"thrust", meaning:"(ê±°ì¹ ê²Œ) ë°€ì¹˜ë‹¤, ì°Œë¥´ë‹¤" },
      { num:1591, word:"vegetation", meaning:"ì´ˆëª©, ì‹ë¬¼" },
      { num:1592, word:"passionate", meaning:"ì—´ì •ì ì¸, ì—´ë ¬í•œ" },
      { num:1593, word:"anthropology", meaning:"ì¸ë¥˜í•™" },
      { num:1594, word:"aboriginal", meaning:"(íŠ¹íˆ ì˜¤ìŠ¤íŠ¸ë ˆì¼ë¦¬ì•„ì˜) ì›ì£¼ë¯¼ì˜" },
      { num:1595, word:"abide", meaning:"(ê·œì¹™ì„) ì§€í‚¤ë‹¤" },
      { num:1596, word:"sediment", meaning:"ì¹¨ì „[í‡´ì ]ë¬¼, ì•™ê¸ˆ" },
      { num:1597, word:"magnify", meaning:"í™•ëŒ€í•˜ë‹¤, ì¦ëŒ€í•˜ë‹¤" },
      { num:1598, word:"respondent", meaning:"ì‘ë‹µì" },
      { num:1599, word:"alleviate", meaning:"ì™„í™”í•˜ë‹¤, ê²½ê°ì‹œí‚¤ë‹¤" },
      { num:1600, word:"alienate", meaning:"ë©€ë¦¬í•˜ë‹¤, ì†Œì›í•˜ê²Œ í•˜ë‹¤" },

      { num:1601, word:"aristocrat", meaning:"ê·€ì¡±, ìƒë¥˜ ê³„ê¸‰ì˜ ì‚¬ëŒ" },
      { num:1602, word:"savage", meaning:"ë¬´ì°¸íˆ ê³µê²©í•˜ë‹¤" },
      { num:1603, word:"summon", meaning:"ì†Œí™˜í•˜ë‹¤, ì†Œì§‘í•˜ë‹¤, í˜¸ì¶œí•˜ë‹¤" },
      { num:1604, word:"empathy", meaning:"ê³µê°, ê°ì •ì´ì…" },
      { num:1605, word:"unearth", meaning:"ë°í˜€ë‚´ë‹¤, ì°¾ë‹¤" },
      { num:1606, word:"assert", meaning:"ì£¼ì¥í•˜ë‹¤, ë‹¨ì–¸í•˜ë‹¤" },
      { num:1607, word:"forecast", meaning:"ì˜ˆì¸¡í•˜ë‹¤, ì˜ˆë³´í•˜ë‹¤" },

      // ====== 1608â€“1700ì„ ì—¬ê¸°ì— ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì¶”ê°€í•˜ë©´ ìë™ ë°˜ì˜ë©ë‹ˆë‹¤ ======
    ];
  </script>

  <script>
    /** =========================
     *  (2) í…Œë§ˆ(ë‹¤í¬/í™”ì´íŠ¸) ì €ì¥
     *  ========================= */
    const THEME_KEY = "vocab_theme_1451_1700";
    function setTheme(mode){
      document.documentElement.setAttribute("data-theme", mode);
      localStorage.setItem(THEME_KEY, mode);
      document.getElementById("themeLabel").textContent = (mode === "light") ? "í™”ì´íŠ¸" : "ë‹¤í¬";
    }
    function initTheme(){
      const saved = localStorage.getItem(THEME_KEY);
      setTheme(saved === "light" ? "light" : "dark");
    }

    /** =========================
     *  (3) í™”ë©´ ì „í™˜(í™ˆ/ë‹¨ì–´ì¥/í€´ì¦ˆ)
     *  ========================= */
    const viewHome = document.getElementById("viewHome");
    const viewWordbook = document.getElementById("viewWordbook");
    const viewQuiz = document.getElementById("viewQuiz");
    const btnHome = document.getElementById("btnHome");

    function showView(which){
      viewHome.style.display = (which === "home") ? "" : "none";
      viewWordbook.style.display = (which === "wordbook") ? "" : "none";
      viewQuiz.style.display = (which === "quiz") ? "" : "none";
      btnHome.style.display = (which === "home") ? "none" : "";

      // âœ… í€´ì¦ˆ í™”ë©´ì„ ë²—ì–´ë‚˜ë©´ íƒ€ì´ë¨¸ ì •ì§€(ì¶”ê°€)
      if (which !== "quiz") stopExamTimer();

      if (which === "quiz") render();
      if (which === "wordbook") renderWordbook();
    }

    /** =========================
     *  (4) ë°œìŒ(TTS)
     *  ========================= */
    let userInteracted = false;
    let lastSpokenKey = "";

    function pickUSVoice(){
      const voices = window.speechSynthesis ? window.speechSynthesis.getVoices() : [];
      let v = voices.find(x => (x.lang||"").toLowerCase() === "en-us");
      if (v) return v;
      v = voices.find(x => (x.lang||"").toLowerCase().includes("en-us"));
      if (v) return v;
      v = voices.find(x => (x.lang||"").toLowerCase().startsWith("en"));
      return v || null;
    }
    function speakWord(word, {force=false} = {}){
      if (!("speechSynthesis" in window) || !word) return;
      try{
        const key = `${word}`;
        if (!force && key === lastSpokenKey) return;
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(word);
        u.lang = "en-US";
        const v = pickUSVoice();
        if (v) u.voice = v;
        u.rate = 0.95;
        u.pitch = 1.0;
        u.volume = 1.0;
        lastSpokenKey = key;
        window.speechSynthesis.speak(u);
      } catch {}
    }
    if ("speechSynthesis" in window){
      window.speechSynthesis.onvoiceschanged = () => {};
    }

    /** =========================
     *  (5) ê³µìš© ìœ í‹¸
     *  ========================= */
    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, m => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
      }[m]));
    }
    function shuffle(arr){
      for (let i=arr.length-1; i>0; i--){
        const j = Math.floor(Math.random() * (i+1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }
    function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

    /** =========================
     *  (6) ë‹¨ì–´ì¥(Wordbook)
     *  ========================= */
    const wbList = document.getElementById("wbList");
    const wbPillCount = document.getElementById("wbPillCount");
    const wbPillRange = document.getElementById("wbPillRange");
    const wbStart = document.getElementById("wbStart");
    const wbEnd = document.getElementById("wbEnd");
    const wbSearch = document.getElementById("wbSearch");
    const wbApply = document.getElementById("wbApply");
    const wbSortNum = document.getElementById("wbSortNum");
    const wbSortWord = document.getElementById("wbSortWord");
    const wbSortShuffle = document.getElementById("wbSortShuffle");

    let wbSortMode = "num"; // num | word | shuffle

    function getFilteredData(start, end, q){
      const a = Math.min(start, end);
      const b = Math.max(start, end);
      const query = String(q||"").trim().toLowerCase();
      let list = VOCAB_DATA.filter(x => x.num >= a && x.num <= b);

      if (query){
        list = list.filter(x =>
          String(x.num).includes(query) ||
          x.word.toLowerCase().includes(query) ||
          x.meaning.toLowerCase().includes(query)
        );
      }

      if (wbSortMode === "num"){
        list.sort((x,y)=>x.num-y.num);
      } else if (wbSortMode === "word"){
        list.sort((x,y)=>x.word.localeCompare(y.word));
      } else {
        list = shuffle([...list]);
      }
      return { list, a, b };
    }

    function renderWordbook(){
      const s0 = clamp(parseInt(wbStart.value||"1451",10), 1451, 1700);
      const e0 = clamp(parseInt(wbEnd.value||"1700",10), 1451, 1700);
      wbStart.value = s0;
      wbEnd.value = e0;

      const { list, a, b } = getFilteredData(s0, e0, wbSearch.value);
      wbPillCount.textContent = `ë‹¨ì–´: ${list.length}`;
      wbPillRange.textContent = `ë²”ìœ„: ${a}â€“${b}`;

      wbList.innerHTML = "";
      if (!list.length){
        wbList.innerHTML = `<div class="small muted">ì¡°ê±´ì— ë§ëŠ” ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        return;
      }

      for (const item of list){
        const el = document.createElement("div");
        el.className = "wb-item";
        el.innerHTML = `
          <div class="wb-line1">
            <div style="display:flex; gap:10px; align-items:baseline; flex-wrap:wrap;">
              <span class="wb-num">#${item.num}</span>
              <span class="wb-word">${escapeHtml(item.word)}</span>
            </div>
            <div class="wb-actions">
              <button class="chip" data-act="speak">ğŸ”Š</button>
              <button class="chip" data-act="copy">ë³µì‚¬</button>
            </div>
          </div>
          <div class="wb-mean">${escapeHtml(item.meaning)}</div>
        `;
        el.querySelector('[data-act="speak"]').addEventListener("click", () => {
          userInteracted = true;
          speakWord(item.word, {force:true});
        });
        el.querySelector('[data-act="copy"]').addEventListener("click", async () => {
          userInteracted = true;
          const text = `${item.num} / ${item.word} / ${item.meaning}`;
          try{
            await navigator.clipboard.writeText(text);
            alert("ë³µì‚¬ ì™„ë£Œ:\n" + text);
          } catch {
            alert("ë³µì‚¬ ì‹¤íŒ¨(ë¸Œë¼ìš°ì € ê¶Œí•œ). ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ ì£¼ì„¸ìš”:\n" + text);
          }
        });
        wbList.appendChild(el);
      }
    }

    wbApply.addEventListener("click", () => { userInteracted = true; renderWordbook(); });
    wbSearch.addEventListener("keydown", (e) => { if (e.key === "Enter"){ userInteracted=true; renderWordbook(); }});
    wbSortNum.addEventListener("click", () => { userInteracted=true; wbSortMode="num"; renderWordbook(); });
    wbSortWord.addEventListener("click", () => { userInteracted=true; wbSortMode="word"; renderWordbook(); });
    wbSortShuffle.addEventListener("click", () => { userInteracted=true; wbSortMode="shuffle"; renderWordbook(); });

    /** =========================
     *  (7) í€´ì¦ˆ(Quiz)
     *  - ì‹œì‘/ë ë²ˆí˜¸ ì§ì ‘ ì…ë ¥
     *  - ë¬¸ì œ ìˆ˜ëŸ‰ ì„ íƒ(ëœë¤ ì¶”ì¶œ)
     *  - ìë™ ì €ì¥/ì˜¤ë‹µë§Œ ë‹¤ì‹œ
     *  ========================= */

    const dom = {
      pillCount: document.getElementById("pillCount"),
      pillProgress: document.getElementById("pillProgress"),
      pillScore: document.getElementById("pillScore"),
      pillTimer: document.getElementById("pillTimer"), // âœ… íƒ€ì´ë¨¸ DOM (ì¶”ê°€)
      quizRangeInfo: document.getElementById("quizRangeInfo"),
      bar: document.getElementById("bar"),
      qbox: document.getElementById("qbox"),
      summary: document.getElementById("summary"),
      shuffleToggle: document.getElementById("shuffleToggle"),
      saveToggle: document.getElementById("saveToggle"),
      autoPronounceToggle: document.getElementById("autoPronounceToggle"),
      btnStart: document.getElementById("btnStart"),
      btnWrongOnly: document.getElementById("btnWrongOnly"),
      btnReset: document.getElementById("btnReset"),
      btnPrev: document.getElementById("btnPrev"),
      btnNext: document.getElementById("btnNext"),
      sbAnswered: document.getElementById("sbAnswered"),
      sbCorrect: document.getElementById("sbCorrect"),
      sbWrong: document.getElementById("sbWrong"),
      sbStreak: document.getElementById("sbStreak"),
      sbNote: document.getElementById("sbNote"),
      startNum: document.getElementById("startNum"),
      endNum: document.getElementById("endNum"),
      questionCount: document.getElementById("questionCount"),
    };

    function getQuizKey(a,b,n){
      return `vocab_quiz_1451_1700_${a}_${b}_n${n}_v1`;
    }

    function defaultState(total){
      return {
        idx:0,
        selected:Array(total).fill(null),
        checked:Array(total).fill(false),
        score:0,
        wrong:[],
        order:[...Array(total).keys()],
        answeredCount:0,
        correctCount:0,
        wrongCount:0,
        streak:0,
        bestStreak:0,

        // âœ… íƒ€ì´ë¨¸ ìƒíƒœ(ì¶”ê°€)
        examEnded:false,
        endReason:"",
        timeTotal:600, // 10ë¶„
        timeLeft:600
      };
    }

    function normalizeLoadedState(s, total){
      const base = defaultState(total);
      const out = { ...base, ...s };

      if (!Array.isArray(out.selected) || out.selected.length !== total) out.selected = base.selected;
      if (!Array.isArray(out.checked) || out.checked.length !== total) out.checked = base.checked;
      if (!Array.isArray(out.order) || out.order.length !== total) out.order = base.order;
      if (!Array.isArray(out.wrong)) out.wrong = [];
      for (const k of ["idx","score","answeredCount","correctCount","wrongCount","streak","bestStreak","timeTotal","timeLeft"]){
        out[k] = Number.isFinite(out[k]) ? out[k] : base[k];
      }
      out.idx = Math.max(0, Math.min(total-1, out.idx));
      out.examEnded = !!out.examEnded;
      out.endReason = String(out.endReason||"");
      // ì•ˆì „: timeLeft ë²”ìœ„
      out.timeTotal = Math.max(1, out.timeTotal);
      out.timeLeft = Math.max(0, Math.min(out.timeTotal, out.timeLeft));
      return out;
    }

    let quiz = { entries:[], questions:[], state:null, key:"" };

    function saveState(){
      if (!dom.saveToggle.checked) return;
      localStorage.setItem(quiz.key, JSON.stringify(quiz.state));
    }
    function loadState(total){
      if (!dom.saveToggle.checked) return null;
      try{
        const raw = localStorage.getItem(quiz.key);
        if (!raw) return null;
        const s = JSON.parse(raw);
        if (!s) return null;
        return normalizeLoadedState(s, total);
      } catch { return null; }
    }

    function buildQuestions(entries){
      const meanings = entries.map(e => e.meaning);
      function pickDistractors(correctMeaning, poolMeanings, count=3){
        const len = correctMeaning.length;
        const similar = poolMeanings.filter(m => m !== correctMeaning && Math.abs(m.length - len) <= 6);
        const picked = new Set();
        function takeFrom(arr){
          const sh = shuffle([...arr]);
          for (const x of sh){
            if (picked.size >= count) break;
            if (x === correctMeaning) continue;
            picked.add(x);
          }
        }
        takeFrom(similar);
        if (picked.size < count) takeFrom(poolMeanings);
        return [...picked].slice(0, count);
      }

      return entries.map(e => {
        const correct = e.meaning;
        const distractors = pickDistractors(correct, meanings, 3);
        const options = shuffle([correct, ...distractors]);
        const correctIndex = options.indexOf(correct);
        return { num:e.num, word:e.word, meaning:e.meaning, options, correctIndex };
      });
    }

    function sampleEntriesInRange(a,b,count){
      const minN = Math.min(a,b), maxN = Math.max(a,b);
      const pool = VOCAB_DATA.filter(x => x.num >= minN && x.num <= maxN);

      if (!pool.length) return { picked:[], poolSize:0 };

      const n = clamp(count, 1, pool.length);
      const shuffled = shuffle([...pool]);
      return { picked: shuffled.slice(0, n), poolSize: pool.length };
    }

    function updateScoreboard(){
      if (!quiz.state){
        dom.sbAnswered.textContent="0";
        dom.sbCorrect.textContent="0";
        dom.sbWrong.textContent="0";
        dom.sbStreak.textContent="0";
        dom.sbNote.textContent="";
        return;
      }
      const s = quiz.state;
      dom.sbAnswered.textContent = String(s.answeredCount);
      dom.sbCorrect.textContent = String(s.correctCount);
      dom.sbWrong.textContent = String(s.wrongCount);
      dom.sbStreak.textContent = String(s.streak);
      dom.sbNote.textContent = `ìµœê³  ì—°ì† ì •ë‹µ: ${s.bestStreak}íšŒ`;
    }

    /** =========================
     *  âœ… (7-1) íƒ€ì´ë¨¸ ê¸°ëŠ¥(ì¶”ê°€)
     *  ========================= */
    const EXAM_SECONDS = 10 * 60; // 10ë¶„
    let timerId = null;
    let lastSavedAt = 0;

    function formatTime(sec){
      const m = Math.floor(sec / 60);
      const s = sec % 60;
      return `${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;
    }

    function stopExamTimer(){
      if (timerId){
        clearInterval(timerId);
        timerId = null;
      }
      dom.pillTimer.classList.remove("timer-danger");
      dom.pillTimer.textContent = `ì‹œí—˜ì‹œê°„: ${formatTime(EXAM_SECONDS)}`;
    }

    function renderTimerPill(){
      if (!quiz.state){
        dom.pillTimer.classList.remove("timer-danger");
        dom.pillTimer.textContent = `ì‹œí—˜ì‹œê°„: ${formatTime(EXAM_SECONDS)}`;
        return;
      }
      const s = quiz.state;
      dom.pillTimer.textContent = `ì‹œí—˜ì‹œê°„: ${formatTime(s.timeLeft)}`;
      if (s.timeLeft <= 60 && !s.examEnded){
        dom.pillTimer.classList.add("timer-danger");
      } else {
        dom.pillTimer.classList.remove("timer-danger");
      }
    }

    function startExamTimer(){
      if (!quiz.state) return;
      // ì´ë¯¸ ì¢…ë£Œ ìƒíƒœë©´ íƒ€ì´ë¨¸ ì‹œì‘ X
      if (quiz.state.examEnded) { renderTimerPill(); return; }

      // ê¸°ì¡´ íƒ€ì´ë¨¸ ì •ì§€ í›„ ì‹œì‘
      if (timerId) clearInterval(timerId);

      lastSavedAt = Date.now();
      timerId = setInterval(() => {
        if (!quiz.state) return;
        if (quiz.state.examEnded) { stopExamTimer(); return; }

        quiz.state.timeLeft = Math.max(0, quiz.state.timeLeft - 1);
        renderTimerPill();

        // 1ë¶„ ê²½ê³ (ë”± 60ì´ˆ ë‚¨ì„ ë•Œ 1íšŒ)
        if (quiz.state.timeLeft === 300){
          try{ alert("â° 5ë¶„ ë‚¨ì•˜ìŠµë‹ˆë‹¤!"); } catch {}
        }
        
        // 1ë¶„ ê²½ê³ (ë”± 60ì´ˆ ë‚¨ì„ ë•Œ 1íšŒ)
        if (quiz.state.timeLeft === 60){
          try{ alert("â° 1ë¶„ ë‚¨ì•˜ìŠµë‹ˆë‹¤!"); } catch {}
        }

        // ë„ˆë¬´ ì¦ì€ ì €ì¥ ë°©ì§€: 10ì´ˆë§ˆë‹¤ë§Œ ì €ì¥
        const now = Date.now();
        if (now - lastSavedAt >= 10_000){
          saveState();
          lastSavedAt = now;
        }

        // 0ì´ˆ â†’ ìë™ ì¢…ë£Œ
        if (quiz.state.timeLeft <= 0){
          finishExam("timeup");
        }
      }, 1000);

      renderTimerPill();
    }

    function finishExam(reason){
      if (!quiz.state) return;
      const s = quiz.state;
      if (s.examEnded) return;

      s.examEnded = true;
      s.endReason = reason || "timeup";

      // íƒ€ì´ë¨¸ ì •ì§€
      if (timerId){
        clearInterval(timerId);
        timerId = null;
      }

      // ë¯¸ì‘ë‹µì„ "ì±„ì  ì™„ë£Œ(ì˜¤ë‹µ)"ë¡œ ì²˜ë¦¬
      const total = quiz.questions.length;
      for (let i=0; i<total; i++){
        if (!s.checked[i]){
          s.checked[i] = true;
          s.answeredCount += 1;
          s.wrongCount += 1;
          s.streak = 0;

          const qIndex = s.order[i];
          const q = quiz.questions[qIndex];
          const qNo = i + 1;

          if (!s.wrong.some(x => x.qNo === qNo)){
            s.wrong.push({
              qNo,
              word: q.word,
              chosenText: "(ë¯¸ì‘ë‹µ)",
              correctText: q.options[q.correctIndex]
            });
          }
        }
      }

      saveState();
      render();        // í™”ë©´ ê°±ì‹  + ê²°ê³¼ í‘œì‹œ
      renderSummary(); // ì¢…ë£Œ ë¬¸êµ¬ í¬í•¨ ê²°ê³¼
      // ì•ˆë‚´
      try{ alert("ì‹œí—˜ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."); } catch {}
    }

    function render(){
      updateScoreboard();
      renderTimerPill();

      if (!quiz.state){
        dom.qbox.innerHTML = `<div class="small muted">ìƒë‹¨ì—ì„œ ë²”ìœ„ë¥¼ ì§€ì •í•˜ê³  â€œí€´ì¦ˆ ì‹œì‘/ì¬ì‹œì‘â€ì„ ëˆ„ë¥´ì„¸ìš”.</div>`;
        dom.pillCount.textContent = `ë¬¸í•­: 0`;
        dom.pillProgress.textContent = `ì§„í–‰: 0/0`;
        dom.pillScore.textContent = `ì ìˆ˜: 0`;
        dom.bar.style.width = "0%";
        dom.btnPrev.disabled = true;
        dom.btnNext.disabled = true;
        dom.btnWrongOnly.disabled = true;
        dom.summary.innerHTML = "";
        return;
      }

      const total = quiz.questions.length;
      const s = quiz.state;
      const done = s.checked.filter(Boolean).length;

      dom.pillCount.textContent = `ë¬¸í•­: ${total}`;
      dom.pillProgress.textContent = `ì§„í–‰: ${done}/${total}`;
      dom.pillScore.textContent = `ì ìˆ˜: ${s.score}`;
      dom.bar.style.width = `${Math.round((done/total)*100)}%`;

      dom.btnPrev.disabled = s.idx === 0;
      dom.btnNext.disabled = s.idx === total - 1;

      const qIndex = s.order[s.idx];
      const q = quiz.questions[qIndex];

      const chosen = s.selected[s.idx];
      const checked = s.checked[s.idx];

      dom.qbox.innerHTML = `
        <div class="qhead">
          <div class="qnum">Q${s.idx+1} / ${total} <span class="meta">(ë‹¨ì–´ë²ˆí˜¸ ${q.num})</span></div>
        </div>

        <div class="qhead" style="margin-top:8px;">
          <div class="word">${escapeHtml(q.word)}</div>
          <button class="iconbtn" id="btnSpeak" title="ë¯¸êµ­ì‹ ë°œìŒ ì¬ìƒ">ğŸ”Š ë°œìŒ ë“£ê¸°</button>
          <span class="mini muted">${"speechSynthesis" in window ? "US ë°œìŒ(TTS)" : "ì´ ë¸Œë¼ìš°ì €ëŠ” ë°œìŒ ê¸°ëŠ¥ ë¯¸ì§€ì›"}</span>
        </div>

        <div class="choices" id="choices"></div>
        <div id="resultArea"></div>
      `;

      const btnSpeak = document.getElementById("btnSpeak");
      btnSpeak.disabled = !("speechSynthesis" in window);
      btnSpeak.addEventListener("click", () => {
        userInteracted = true;
        speakWord(q.word, {force:true});
      });

      const choicesEl = document.getElementById("choices");
      q.options.forEach((text, idx0) => {
        let cls = "choice";
        if (chosen === idx0) cls += " selected";
        if (checked){
          if (idx0 === q.correctIndex) cls += " correct";
          else if (chosen === idx0 && chosen !== q.correctIndex) cls += " wrong";
        }
        const el = document.createElement("div");
        el.className = cls;
        el.innerHTML = `<div class="tag">${idx0+1}</div><div>${escapeHtml(text)}</div>`;
        el.addEventListener("click", () => {
          userInteracted = true;

          // âœ… ì‹œí—˜ ì¢…ë£Œ ìƒíƒœë©´ ì„ íƒ ê¸ˆì§€(ì¶”ê°€)
          if (s.examEnded) return;

          if (s.checked[s.idx]) return;
          s.selected[s.idx] = idx0;
          checkAnswer();
        });
        choicesEl.appendChild(el);
      });

      const resultArea = document.getElementById("resultArea");
      if (checked){
        const ok = chosen === q.correctIndex;
        resultArea.innerHTML = `
          <div class="result ${ok ? "good" : "bad"}">
            <div><b>${ok ? "ì •ë‹µ!" : "ì˜¤ë‹µ"}</b></div>
            <div class="small">
              ì •ë‹µ: <b>${q.correctIndex+1}</b> (${escapeHtml(q.options[q.correctIndex])})<br/>
              ì„ íƒ: <b>${chosen !== null ? chosen+1 : "-"}</b> (${chosen !== null ? escapeHtml(q.options[chosen]) : "(ë¯¸ì‘ë‹µ)"})
            </div>
          </div>
          ${!ok ? `<div class="mini muted" style="margin-top:8px;">ì˜¤ë‹µ ê°ì†Œ íŒ: ë‹¨ì–´ <span class="kbd">${escapeHtml(q.word)}</span> ëŠ” (ëœ») <b>${escapeHtml(q.meaning)}</b> ë¡œ ê³ ì •!</div>` : ``}
        `;
      } else {
        resultArea.innerHTML = `<div class="small muted" style="margin-top:10px;">ë³´ê¸°(ë‹µì•ˆ)ë¥¼ ëˆ„ë¥´ë©´ ë°”ë¡œ ì±„ì ë©ë‹ˆë‹¤.</div>`;
      }

      if (done === total) renderSummary();
      else dom.summary.innerHTML = "";

      dom.btnWrongOnly.disabled = (done === 0);

      if (dom.autoPronounceToggle.checked && userInteracted){
        setTimeout(() => speakWord(q.word, {force:false}), 80);
      }
    }

    function renderSummary(){
      const total = quiz.questions.length;
      const s = quiz.state;
      const wrongOnly = s.wrong;

      const score100 = total ? Math.round((s.score / total) * 100) : 0;
      const endBanner = s.examEnded
        ? `<div class="result bad" style="margin-top:0;">
             <div><b>ì‹œí—˜ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤</b></div>
             <div class="small">100ì  ë§Œì ì— <b>${score100}ì </b> ì…ë‹ˆë‹¤. (ì •ë‹µ ${s.score}/${total})</div>
           </div>`
        : "";

      dom.summary.innerHTML = `
        <div class="hr"></div>
        ${endBanner}
        <div class="row" style="margin-top:12px;">
          <div>
            <div style="font-weight:1000; font-size:18px;">ê²°ê³¼</div>
            <div class="small">ì´ì : <b>${s.score}</b> / ${total} (100ì  í™˜ì‚°: <b>${score100}ì </b>)</div>
            <div class="small muted">ì™„ë£Œ: ${total}ë¬¸í•­</div>
          </div>
          <div class="row">
            <button class="btn secondary" id="btnGoFirst">ì²« ë¬¸ì œë¡œ</button>
          </div>
        </div>

        <details ${wrongOnly.length ? "open" : ""}>
          <summary>ì˜¤ë‹µ ë…¸íŠ¸ (${wrongOnly.length}ê°œ)</summary>
          ${wrongOnly.length ? `
          <table>
            <thead>
              <tr><th>Q</th><th>ë‹¨ì–´</th><th>ë‚´ ì„ íƒ</th><th>ì •ë‹µ</th></tr>
            </thead>
            <tbody>
              ${wrongOnly.map(w => `
                <tr>
                  <td>${w.qNo}</td>
                  <td><b>${escapeHtml(w.word)}</b></td>
                  <td>${escapeHtml(w.chosenText)}</td>
                  <td>${escapeHtml(w.correctText)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>` : `<div class="small muted" style="margin-top:10px;">ì˜¤ë‹µì´ ì—†ìŠµë‹ˆë‹¤.</div>`}
        </details>
      `;

      document.getElementById("btnGoFirst").addEventListener("click", () => {
        quiz.state.idx = 0;
        saveState();
        render();
      });
    }

    function checkAnswer(){
      const s = quiz.state;
      const qIndex = s.order[s.idx];
      const q = quiz.questions[qIndex];

      const chosen = s.selected[s.idx];
      if (chosen === null || s.checked[s.idx]) return;

      // âœ… ì‹œí—˜ ì¢…ë£Œ ìƒíƒœë©´ ì±„ì  ë¶ˆê°€(ì¶”ê°€)
      if (s.examEnded) return;

      s.checked[s.idx] = true;
      s.answeredCount += 1;

      if (chosen === q.correctIndex){
        s.score += 1;
        s.correctCount += 1;
        s.streak += 1;
        if (s.streak > s.bestStreak) s.bestStreak = s.streak;
      } else {
        s.wrongCount += 1;
        s.streak = 0;
        const qNo = s.idx + 1;
        if (!s.wrong.some(x => x.qNo === qNo)){
          s.wrong.push({
            qNo,
            word:q.word,
            chosenText:q.options[chosen],
            correctText:q.options[q.correctIndex]
          });
        }
      }

      saveState();
      render();
    }

    function startQuiz({ wrongOnly=false } = {}){
      userInteracted = true;
      lastSpokenKey = "";

      const a = clamp(parseInt(dom.startNum.value||"1451",10), 1451, 1700);
      const b = clamp(parseInt(dom.endNum.value||"1700",10), 1451, 1700);
      const nReq = Math.max(1, parseInt(dom.questionCount.value||"30",10) || 30);

      dom.startNum.value = a;
      dom.endNum.value = b;

      const { picked, poolSize } = sampleEntriesInRange(a,b,nReq);

      dom.quizRangeInfo.textContent = `í˜„ì¬ ë²”ìœ„ ë‚´ ë‹¨ì–´: ${poolSize}ê°œ / ì¶œì œ: ${picked.length}ê°œ (ëœë¤ ì¶”ì¶œ)`;

      const questions = buildQuestions(picked);
      const total = questions.length;

      quiz.entries = picked;
      quiz.questions = questions;

      quiz.key = getQuizKey(Math.min(a,b), Math.max(a,b), total);

      const baseState = defaultState(total);
      if (dom.shuffleToggle.checked) baseState.order = shuffle(baseState.order);

      const loaded = loadState(total);

      // âœ… ìƒˆë¡œ ì‹œì‘í•  ë•ŒëŠ” í•­ìƒ 10ë¶„ ë¦¬ì…‹(ì¶”ê°€)
      // (ë‹¨, ì €ì¥ë³¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²½ìš°: ë‚¨ì€ ì‹œê°„ë„ ì´ì–´ì„œ)
      quiz.state = loaded ?? baseState;

      // ì €ì¥ë³¸ì´ ì—†ìœ¼ë©´ 10ë¶„ ì„¸íŒ…
      if (!loaded){
        quiz.state.timeTotal = EXAM_SECONDS;
        quiz.state.timeLeft = EXAM_SECONDS;
      } else {
        // ì €ì¥ë³¸ì´ ìˆì–´ë„ í˜¹ì‹œ ì‹œê°„ì´ ë¹„ì •ìƒì¼ ë•Œ ë³´ì •
        quiz.state.timeTotal = EXAM_SECONDS;
        quiz.state.timeLeft = clamp(quiz.state.timeLeft, 0, EXAM_SECONDS);
      }

      // ìƒˆ ì‹œì‘ ë²„íŠ¼ì„ ëˆ„ë¥¸ ê²½ìš°ì—” "ì¢…ë£Œ ìƒíƒœ" í•´ì œ + 10ë¶„ ì¬ì‹œì‘
      // (ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì¬ì‹œì‘í–ˆìœ¼ë¯€ë¡œ)
      quiz.state.examEnded = false;
      quiz.state.endReason = "";
      quiz.state.timeLeft = EXAM_SECONDS;

      if (wrongOnly && loaded?.wrong?.length){
        const wrongWords = new Set(loaded.wrong.map(w => w.word.toLowerCase()));
        const wrongEntries = picked.filter(e => wrongWords.has(e.word.toLowerCase()));
        if (wrongEntries.length){
          quiz.entries = wrongEntries;
          quiz.questions = buildQuestions(wrongEntries);
          quiz.state = defaultState(quiz.questions.length);
          if (dom.shuffleToggle.checked) quiz.state.order = shuffle(quiz.state.order);
          quiz.key = getQuizKey(Math.min(a,b), Math.max(a,b), quiz.questions.length) + "_wrongOnly";

          // ì˜¤ë‹µë§Œ ë‹¤ì‹œë„ 10ë¶„
          quiz.state.timeTotal = EXAM_SECONDS;
          quiz.state.timeLeft = EXAM_SECONDS;
          quiz.state.examEnded = false;
          quiz.state.endReason = "";
        }
      }

      saveState();
      render();

      // âœ… íƒ€ì´ë¨¸ ì‹œì‘(ì¶”ê°€)
      startExamTimer();
    }

    /** =========================
     *  (8) ì´ë²¤íŠ¸ ë°”ì¸ë”©
     *  ========================= */
    document.getElementById("goWordbook").addEventListener("click", () => { userInteracted=true; showView("wordbook"); });
    document.getElementById("goQuiz").addEventListener("click", () => { userInteracted=true; showView("quiz"); });

    btnHome.addEventListener("click", () => { userInteracted=true; showView("home"); });

    document.getElementById("themeSwitch").addEventListener("click", () => {
      userInteracted = true;
      const now = document.documentElement.getAttribute("data-theme") === "light" ? "light" : "dark";
      setTheme(now === "light" ? "dark" : "light");
    });

    dom.btnStart.addEventListener("click", () => startQuiz({ wrongOnly:false }));
    dom.btnWrongOnly.addEventListener("click", () => startQuiz({ wrongOnly:true }));

    dom.btnReset.addEventListener("click", () => {
      userInteracted = true;
      if (!quiz.key){
        alert("ì´ˆê¸°í™”í•  ì €ì¥ ë°ì´í„°ê°€ ì•„ì§ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € í€´ì¦ˆë¥¼ ì‹œì‘í•˜ì„¸ìš”.");
        return;
      }
      if (!confirm("í˜„ì¬ ì„¤ì •(ë²”ìœ„/ë¬¸ì œìˆ˜)ì˜ ì €ì¥ëœ ì§„í–‰ìƒí™©ì„ ì™„ì „ ì´ˆê¸°í™”í• ê¹Œìš”?")) return;
      localStorage.removeItem(quiz.key);
      quiz.state = null;
      lastSpokenKey = "";

      // âœ… íƒ€ì´ë¨¸ ì •ì§€(ì¶”ê°€)
      stopExamTimer();

      render();
    });

    dom.btnPrev.addEventListener("click", () => {
      userInteracted = true;
      if (!quiz.state) return;
      quiz.state.idx = Math.max(0, quiz.state.idx - 1);
      saveState();
      render();
    });
    dom.btnNext.addEventListener("click", () => {
      userInteracted = true;
      if (!quiz.state) return;
      quiz.state.idx = Math.min(quiz.questions.length - 1, quiz.state.idx + 1);
      saveState();
      render();
    });

    dom.saveToggle.addEventListener("change", () => {
      userInteracted = true;
      if (!dom.saveToggle.checked){
        alert("ìë™ ì €ì¥ì´ êº¼ì¡ŒìŠµë‹ˆë‹¤. ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì§„í–‰ìƒí™©ì´ ìœ ì§€ë˜ì§€ ì•Šì„ ìˆ˜ ìˆì–´ìš”.");
      }
    });

    dom.autoPronounceToggle.addEventListener("change", () => {
      userInteracted = true;
      if (dom.autoPronounceToggle.checked && quiz.state){
        const s = quiz.state;
        const qIndex = s.order[s.idx];
        const q = quiz.questions[qIndex];
        speakWord(q.word, {force:true});
      }
    });

    // ë‹¨ì–´ì¥/í€´ì¦ˆ ì…ë ¥ê°’ ê¸°ë³¸ ë²”ìœ„ (DB ì‹¤ì œ ì¡´ì¬ ë²”ìœ„ì— ë§ì¶° ìë™ ì¡°ì •)
    function initBounds(){
      const nums = VOCAB_DATA.map(x=>x.num);
      const minNum = nums.length ? Math.min(...nums) : 1451;
      const maxNum = nums.length ? Math.max(...nums) : 1700;

      // ë‹¨ì–´ì¥
      wbStart.min = String(minNum);
      wbStart.max = String(maxNum);
      wbEnd.min = String(minNum);
      wbEnd.max = String(maxNum);
      wbStart.value = String(minNum);
      wbEnd.value = String(maxNum);

      // í€´ì¦ˆ
      dom.startNum.min = String(minNum);
      dom.startNum.max = String(maxNum);
      dom.endNum.min = String(minNum);
      dom.endNum.max = String(maxNum);
      dom.startNum.value = String(minNum);
      dom.endNum.value = String(maxNum);

      // ë¬¸ì œìˆ˜ ìµœëŒ€ì¹˜(í˜„ì¬ DB ê¸°ì¤€)
      const total = VOCAB_DATA.filter(x => x.num >= minNum && x.num <= maxNum).length;
      dom.questionCount.max = String(Math.max(1, total));

      // íƒ€ì´í‹€ë„ í˜„ì¬ DB ë²”ìœ„ë¥¼ ë°˜ì˜
      document.getElementById("appTitle").textContent = `Vocabulary ${minNum}â€“${maxNum}`;
      document.getElementById("appSubtitle").innerHTML =
        `ì²˜ìŒ í˜ì´ì§€ì—ì„œ <b>ë‹¨ì–´ì¥</b> / <b>ì‹œí—˜(í€´ì¦ˆ)</b>ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (í˜„ì¬ DB: ${minNum}â€“${maxNum})`;

      // âœ… íƒ€ì´ë¨¸ ì´ˆê¸° í‘œì‹œ(ì¶”ê°€)
      dom.pillTimer.textContent = `ì‹œí—˜ì‹œê°„: ${formatTime(EXAM_SECONDS)}`;
    }

    // ì‹œì‘
    initTheme();
    initBounds();
    showView("home");
  </script>
</body>
</html>

